import{af as A,c7 as J,c8 as P,R as G,ab as r,N as W,O as Y,ae as M,bU as Q,D as R,c9 as Z,by as tt,j as et,ca as K,a4 as ot,H as rt,_ as T}from"./index-B3HKDY-B.js";function xt(e,t,a,o){return e&&(e.legacy||e.legacy!==!1&&!a&&!o&&t!=="tspan"&&(t==="text"||r(e,"text")))}function ut(e,t,a){var o,d,i,n=e;if(t==="text")i=n;else{i={},r(n,"text")&&(i.text=n.text),r(n,"rich")&&(i.rich=n.rich),r(n,"textFill")&&(i.fill=n.textFill),r(n,"textStroke")&&(i.stroke=n.textStroke),r(n,"fontFamily")&&(i.fontFamily=n.fontFamily),r(n,"fontSize")&&(i.fontSize=n.fontSize),r(n,"fontStyle")&&(i.fontStyle=n.fontStyle),r(n,"fontWeight")&&(i.fontWeight=n.fontWeight),d={type:"text",style:i,silent:!0},o={};var f=r(n,"textPosition");a?o.position=f?n.textPosition:"inside":f&&(o.position=n.textPosition),r(n,"textPosition")&&(o.position=n.textPosition),r(n,"textOffset")&&(o.offset=n.textOffset),r(n,"textRotation")&&(o.rotation=n.textRotation),r(n,"textDistance")&&(o.distance=n.textDistance)}return V(i,e),W(i.rich,function(v){V(v,v)}),{textConfig:o,textContent:d}}function V(e,t){t&&(t.font=t.textFont||t.font,r(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),r(t,"textAlign")&&(e.align=t.textAlign),r(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),r(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),r(t,"textWidth")&&(e.width=t.textWidth),r(t,"textHeight")&&(e.height=t.textHeight),r(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),r(t,"textPadding")&&(e.padding=t.textPadding),r(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),r(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),r(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),r(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),r(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),r(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),r(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function ht(e,t,a){var o=e;o.textPosition=o.textPosition||a.position||"inside",a.offset!=null&&(o.textOffset=a.offset),a.rotation!=null&&(o.textRotation=a.rotation),a.distance!=null&&(o.textDistance=a.distance);var d=o.textPosition.indexOf("inside")>=0,i=e.fill||"#000";N(o,t);var n=o.textFill==null;return d?n&&(o.textFill=a.insideFill||"#fff",!o.textStroke&&a.insideStroke&&(o.textStroke=a.insideStroke),!o.textStroke&&(o.textStroke=i),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(n&&(o.textFill=e.fill||a.outsideFill||"#000"),!o.textStroke&&a.outsideStroke&&(o.textStroke=a.outsideStroke)),o.text=t.text,o.rich=t.rich,W(t.rich,function(f){N(f,f)}),o}function N(e,t){t&&(r(t,"fill")&&(e.textFill=t.fill),r(t,"stroke")&&(e.textStroke=t.fill),r(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),r(t,"font")&&(e.font=t.font),r(t,"fontStyle")&&(e.fontStyle=t.fontStyle),r(t,"fontWeight")&&(e.fontWeight=t.fontWeight),r(t,"fontSize")&&(e.fontSize=t.fontSize),r(t,"fontFamily")&&(e.fontFamily=t.fontFamily),r(t,"align")&&(e.textAlign=t.align),r(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),r(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),r(t,"width")&&(e.textWidth=t.width),r(t,"height")&&(e.textHeight=t.height),r(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),r(t,"padding")&&(e.textPadding=t.padding),r(t,"borderColor")&&(e.textBorderColor=t.borderColor),r(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),r(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),r(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),r(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),r(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),r(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),r(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),r(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),r(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),r(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var U={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},I=A(U);J(P,function(e,t){return e[t]=1,e},{}),P.join(", ");var D=["","style","shape","extra"],F=G();function X(e,t,a,o,d){var i=e+"Animation",n=K(e,o,d)||{},f=F(t).userDuring;return n.duration>0&&(n.during=f?rt(it,{el:t,userDuring:f}):null,n.setToFinal=!0,n.scope=e),R(n,a[i]),n}function ct(e,t,a,o){var d=(o=o||{}).dataIndex,i=o.isInit,n=o.clearStyle,f=a.isAnimationEnabled(),v=F(e),w=t.style;v.userDuring=t.during;var x={},y={};if(function(s,l,m){for(var u=0;u<I.length;u++){var h=I[u],c=U[h],g=l[h];g&&(m[c[0]]=g[0],m[c[1]]=g[1])}for(u=0;u<P.length;u++){var k=P[u];l[k]!=null&&(m[k]=l[k])}}(0,t,y),j("shape",t,y),j("extra",t,y),!i&&f&&(function(s,l,m){for(var u=l.transition,h=C(u)?P:T(u||[]),c=0;c<h.length;c++){var g=h[c];if(g!=="style"&&g!=="shape"&&g!=="extra"){var k=s[g];m[g]=k}}}(e,t,x),_("shape",e,t,x),_("extra",e,t,x),function(s,l,m,u){if(m){var h,c=s.style;if(c){var g=m.transition,k=l.transition;if(g&&!C(g)){var z=T(g);!h&&(h=u.style={});for(var O=0;O<z.length;O++){var H=c[b=z[O]];h[b]=H}}else if(s.getAnimationStyleProps&&(C(k)||C(g)||Y(k,"style")>=0)){var $=s.getAnimationStyleProps(),E=$?$.style:null;if(E){!h&&(h=u.style={});var L=A(m);for(O=0;O<L.length;O++){var b;E[b=L[O]]&&(H=c[b],h[b]=H)}}}}}}(e,t,w,x)),y.style=w,function(s,l,m){var u=l.style;if(!s.isGroup&&u){if(m){s.useStyle({});for(var h=s.animators,c=0;c<h.length;c++){var g=h[c];g.targetName==="style"&&g.changeTarget(s.style)}}s.setStyle(u)}l&&(l.style=null,l&&s.attr(l),l.style=u)}(e,y,n),function(s,l){r(l,"silent")&&(s.silent=l.silent),r(l,"ignore")&&(s.ignore=l.ignore),s instanceof M&&r(l,"invisible")&&(s.invisible=l.invisible),s instanceof Q&&r(l,"autoBatch")&&(s.autoBatch=l.autoBatch)}(e,t),f)if(i){var S={};W(D,function(s){var l=s?t[s]:t;l&&l.enterFrom&&(s&&(S[s]=S[s]||{}),R(s?S[s]:S,l.enterFrom))});var p=X("enter",e,t,a,d);p.duration>0&&e.animateFrom(S,p)}else(function(s,l,m,u,h){if(h){var c=X("update",s,l,u,m);c.duration>0&&s.animateFrom(h,c)}})(e,t,d||0,a,x);nt(e,t),w?e.dirty():e.markRedraw()}function nt(e,t){for(var a=F(e).leaveToProps,o=0;o<D.length;o++){var d=D[o],i=d?t[d]:t;i&&i.leaveTo&&(a||(a=F(e).leaveToProps={}),d&&(a[d]=a[d]||{}),R(d?a[d]:a,i.leaveTo))}}function gt(e,t,a,o){if(e){var d=e.parent,i=F(e).leaveToProps;if(i){var n=X("update",e,t,a,0);n.done=function(){d.remove(e)},e.animateTo(i,n)}else d.remove(e)}}function C(e){return e==="all"}var B={},at={setTransform:function(e,t){return B.el[e]=t,this},getTransform:function(e){return B.el[e]},setShape:function(e,t){var a=B.el;return(a.shape||(a.shape={}))[e]=t,a.dirtyShape&&a.dirtyShape(),this},getShape:function(e){var t=B.el.shape;if(t)return t[e]},setStyle:function(e,t){var a=B.el,o=a.style;return o&&(o[e]=t,a.dirtyStyle&&a.dirtyStyle()),this},getStyle:function(e){var t=B.el.style;if(t)return t[e]},setExtra:function(e,t){return(B.el.extra||(B.el.extra={}))[e]=t,this},getExtra:function(e){var t=B.el.extra;if(t)return t[e]}};function it(){var e=this,t=e.el;if(t){var a=F(t).userDuring,o=e.userDuring;a===o?(B.el=t,o(at)):e.el=e.userDuring=null}}function _(e,t,a,o){var d=a[e];if(d){var i,n=t[e];if(n){var f=a.transition,v=d.transition;if(v)if(!i&&(i=o[e]={}),C(v))R(i,n);else for(var w=T(v),x=0;x<w.length;x++){var y=n[p=w[x]];i[p]=y}else if(C(f)||Y(f,e)>=0){!i&&(i=o[e]={});var S=A(n);for(x=0;x<S.length;x++){var p;y=n[p=S[x]],lt(d[p],y)&&(i[p]=y)}}}}}function j(e,t,a){var o=t[e];if(o)for(var d=a[e]={},i=A(o),n=0;n<i.length;n++){var f=i[n];d[f]=Z(o[f])}}function lt(e,t){return tt(e)?e!==t:e!=null&&isFinite(e)}var q=G(),ft=["percent","easing","shape","style","extra"];function vt(e){e.stopAnimation("keyframe"),e.attr(q(e))}function st(e,t,a){if(a.isAnimationEnabled()&&t)if(et(t))W(t,function(f){st(e,f,a)});else{var o=t.keyframes,d=t.duration;if(a&&d==null){var i=K("enter",a,0);d=i&&i.duration}if(o&&d){var n=q(e);W(D,function(f){var v;f&&!e[f]||(o.sort(function(w,x){return w.percent-x.percent}),W(o,function(w){var x=e.animators,y=f?w[f]:w;if(y){var S=A(y);if(f||(S=ot(S,function(l){return Y(ft,l)<0})),S.length){v||((v=e.animate(f,t.loop,!0)).scope="keyframe");for(var p=0;p<x.length;p++)x[p]!==v&&x[p].targetName===v.targetName&&x[p].stopTracks(S);f&&(n[f]=n[f]||{});var s=f?n[f]:n;W(S,function(l){s[l]=((f?e[f]:e)||{})[l]}),v.whenWithKeys(d*w.percent,y,S,w.easing)}}}),v&&v.delay(t.delay||0).duration(d).start(t.easing))})}}}export{C as A,nt as F,vt as L,gt as P,xt as S,st as V,ct as b,ht as w,ut as y};
