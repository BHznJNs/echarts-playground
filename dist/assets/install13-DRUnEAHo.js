import{e as _,ab as A,bM as x,d as R,bL as E,bP as z,bI as D,H as O,bJ as P,Y as M,r as T,du as U,dv as V,bU as C,bT as L,A as N,N as q}from"./index-DqzYUymv.js";import{install as B}from"./install32-BgogngIV.js";import"./axisDefault--AiVwrJc.js";import"./AxisBuilder-BvSfZ_CI.js";import"./brushHelper-BBpK21Kc.js";import"./interactionMutex-CZF7ZBng.js";import"./sliderMove-mmwzGRlj.js";import"./axisModelCreator-9f33LnYD.js";import"./labelLayoutHelper-C9kjGaZq.js";import"./cursorHelper-IgNoiH07.js";function w(i,t,e,a){for(var n,r=[],o=0;o<e.length;o++){var s=e[o],p=i.get(i.mapDimension(s),t);n=p,(a.getAxis(s).type==="category"?n==null:n==null||isNaN(n))||r.push(a.dataToPoint(p,s))}return r}function S(i,t,e,a,n){var r=w(i,e,a,n),o=new T({shape:{points:r},z2:10});return t.add(o),i.setItemGraphicEl(e,o),o}function I(i){var t=i.get("smooth",!0);return t===!0&&(t=.3),t=U(t),V(t)&&(t=0),{smooth:t}}function f(i,t,e,a){i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.setShape("smooth",a.smooth);var n=t.getItemModel(e),r=n.getModel("emphasis");C(i,n,"lineStyle"),L(i,r.get("focus"),r.get("blurScope"),r.get("disabled"))}var H=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new N,e._initialized=!1,e}return _(t,i),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,a,n,r){this._progressiveEls=null;var o=this._dataGroup,s=e.getData(),p=this._data,u=e.coordinateSystem,h=u.dimensions,c=I(e);if(s.diff(p).add(function(l){f(S(s,o,l,h,u),s,l,c)}).update(function(l,y){var d=p.getItemGraphicEl(y),g=w(s,l,h,u);s.setItemGraphicEl(l,d),A(d,{shape:{points:g}},e,l),x(d),f(d,s,l,c)}).remove(function(l){var y=p.getItemGraphicEl(l);o.remove(y)}).execute(),!this._initialized){this._initialized=!0;var b=function(l,y,d){var g=l.model,m=l.getRect(),v=new R({shape:{x:m.x,y:m.y,width:m.width,height:m.height}}),G=g.get("layout")==="horizontal"?"width":"height";return v.setShape(G,0),E(v,{shape:{width:m.width,height:m.height}},y,d),v}(u,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(b)}this._data=s},t.prototype.incrementalPrepareRender=function(e,a,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,a,n){for(var r=a.getData(),o=a.coordinateSystem,s=o.dimensions,p=I(a),u=this._progressiveEls=[],h=e.start;h<e.end;h++){var c=S(r,this._dataGroup,h,s,o);c.incremental=!0,f(c,r,h,p),u.push(c)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(z);function Y(i){var t=i.ecModel.getComponent("parallel",i.get("parallelIndex"));if(t){var e={};return q(t.dimensions,function(a){var n=+a.replace("dim","");e[a]=n}),e}}var j=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return _(t,i),t.prototype.getInitialData=function(e,a){return D(null,this,{useEncodeDefaulter:O(Y,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var a=this.coordinateSystem,n=this.getData(),r=[];return a.eachActiveState(n,function(o,s){e===o&&r.push(n.getRawIndex(s))}),r},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(P),k=["lineStyle","opacity"],F={seriesType:"parallel",reset:function(i,t){var e=i.coordinateSystem,a={normal:i.get(["lineStyle","opacity"]),active:i.get("activeOpacity"),inactive:i.get("inactiveOpacity")};return{progress:function(n,r){e.eachActiveState(r,function(o,s){var p=a[o];if(o==="normal"&&r.hasItemOption){var u=r.getItemModel(s).get(k,!0);u!=null&&(p=u)}r.ensureUniqueItemVisual(s,"style").opacity=p},n.start,n.end)}}}};function at(i){M(B),i.registerChartView(H),i.registerSeriesModel(j),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,F)}export{at as install};
