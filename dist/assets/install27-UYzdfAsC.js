import{e as T,X as J,R as st,H as v,p as tt,s as rt,y as G,t as lt,N as Z,Z as ht,V as b,A as dt,r as pt,O as ut,B as ct,K as X,h as Y,L as gt,d as ft,w as mt,c as E,M as B,U as yt,G as vt,P as F,Q as N,S as _t,W as K,Y as xt,a0 as wt,g as U,a1 as j}from"./index-B3HKDY-B.js";import{T as H,P as et,y as St,M as ot,C as it}from"./installCommon-Bl92-lG_.js";import{n as W}from"./sliderMove-mmwzGRlj.js";import{f as Mt}from"./RoamController-rbEyhm6E.js";import"./interactionMutex-Bs7cRZ9p.js";var bt=function(l){function s(){var t=l!==null&&l.apply(this,arguments)||this;return t.type=s.type,t}return T(s,l),s.type="dataZoom.inside",s.defaultOption=J(H.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),s}(H),O=st();function at(l,s){if(s){l.removeKey(s.model.uid);var t=s.controller;t&&t.dispose()}}function Dt(l,s){l.isDisposed()||l.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:s})}function It(l,s,t,i){return l.coordinateSystem.containPoint([t,i])}function Zt(l){l.registerProcessor(l.PRIORITY.PROCESSOR.FILTER,function(s,t){var i=O(t),n=i.coordSysRecordMap||(i.coordSysRecordMap=U());n.each(function(o){o.dataZoomInfoMap=null}),s.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var e=ot(o);Z(e.infoList,function(a){var r=a.model.uid,h=n.get(r)||n.set(r,function(d,u){var p={model:u,containsPoint:j(It,u),dispatchAction:j(Dt,d),dataZoomInfoMap:null,controller:null},g=p.controller=new Mt(d.getZr());return Z(["pan","zoom","scrollMove"],function(f){g.on(f,function(m){var y=[];p.dataZoomInfoMap.each(function(c){if(m.isAvailableBehavior(c.model.option)){var _=(c.getRange||{})[f],x=_&&_(c.dzReferCoordSysInfo,p.model.mainType,p.controller,m);!c.model.get("disabled",!0)&&x&&y.push({dataZoomId:c.model.id,start:x[0],end:x[1]})}}),y.length&&p.dispatchAction(y)})}),p}(t,a.model));(h.dataZoomInfoMap||(h.dataZoomInfoMap=U())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),n.each(function(o){var e,a=o.controller,r=o.dataZoomInfoMap;if(r){var h=r.keys()[0];h!=null&&(e=r.get(h))}if(e){var d=function(u){var p,g="type_",f={type_true:2,type_move:1,type_false:0,type_undefined:-1},m=!0;return u.each(function(y){var c=y.model,_=!c.get("disabled",!0)&&(!c.get("zoomLock",!0)||"move");f[g+_]>f[g+p]&&(p=_),m=m&&c.get("preventDefaultMouseMove",!0)}),{controlType:p,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!m}}}(r);a.enable(d.controlType,d.opt),a.setPointerChecker(o.containsPoint),tt(o,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else at(n,o)})})}var zt=function(l){function s(){var t=l!==null&&l.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return T(s,l),s.prototype.render=function(t,i,n){l.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function(o,e,a){O(o).coordSysRecordMap.each(function(r){var h=r.dataZoomInfoMap.get(e.uid);h&&(h.getRange=a)})}(n,t,{pan:v(V.pan,this),zoom:v(V.zoom,this),scrollMove:v(V.scrollMove,this)}))},s.prototype.dispose=function(){this._clear(),l.prototype.dispose.apply(this,arguments)},s.prototype._clear=function(){(function(t,i){for(var n=O(t).coordSysRecordMap,o=n.keys(),e=0;e<o.length;e++){var a=o[e],r=n.get(a),h=r.dataZoomInfoMap;if(h){var d=i.uid;h.get(d)&&(h.removeKey(d),h.keys().length||at(n,r))}}})(this.api,this.dataZoomModel),this.range=null},s.type="dataZoom.inside",s}(et),V={zoom:function(l,s,t,i){var n=this.range,o=n.slice(),e=l.axisModels[0];if(e){var a=k[s](null,[i.originX,i.originY],e,t,l),r=(a.signal>0?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(o[1]-o[0])+o[0],h=Math.max(1/i.scale,0);o[0]=(o[0]-r)*h+r,o[1]=(o[1]-r)*h+r;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return W(0,o,[0,100],0,d.minSpan,d.maxSpan),this.range=o,n[0]!==o[0]||n[1]!==o[1]?o:void 0}},pan:Q(function(l,s,t,i,n,o){var e=k[i]([o.oldX,o.oldY],[o.newX,o.newY],s,n,t);return e.signal*(l[1]-l[0])*e.pixel/e.pixelLength}),scrollMove:Q(function(l,s,t,i,n,o){return k[i]([0,0],[o.scrollDelta,o.scrollDelta],s,n,t).signal*(l[1]-l[0])*o.scrollDelta})};function Q(l){return function(s,t,i,n){var o=this.range,e=o.slice(),a=s.axisModels[0];if(a){var r=l(e,a,s,t,i,n);return W(r,e,[0,100],"all"),this.range=e,o[0]!==e[0]||o[1]!==e[1]?e:void 0}}}var k={grid:function(l,s,t,i,n){var o=t.axis,e={},a=n.model.coordinateSystem.getRect();return l=l||[0,0],o.dim==="x"?(e.pixel=s[0]-l[0],e.pixelLength=a.width,e.pixelStart=a.x,e.signal=o.inverse?1:-1):(e.pixel=s[1]-l[1],e.pixelLength=a.height,e.pixelStart=a.y,e.signal=o.inverse?-1:1),e},polar:function(l,s,t,i,n){var o=t.axis,e={},a=n.model.coordinateSystem,r=a.getRadiusAxis().getExtent(),h=a.getAngleAxis().getExtent();return l=l?a.pointToCoord(l):[0,0],s=a.pointToCoord(s),t.mainType==="radiusAxis"?(e.pixel=s[0]-l[0],e.pixelLength=r[1]-r[0],e.pixelStart=r[0],e.signal=o.inverse?1:-1):(e.pixel=s[1]-l[1],e.pixelLength=h[1]-h[0],e.pixelStart=h[0],e.signal=o.inverse?-1:1),e},singleAxis:function(l,s,t,i,n){var o=t.axis,e=n.model.coordinateSystem.getRect(),a={};return l=l||[0,0],o.orient==="horizontal"?(a.pixel=s[0]-l[0],a.pixelLength=e.width,a.pixelStart=e.x,a.signal=o.inverse?1:-1):(a.pixel=s[1]-l[1],a.pixelLength=e.height,a.pixelStart=e.y,a.signal=o.inverse?-1:1),a}},Rt=zt;function At(l){it(l),l.registerComponentModel(bt),l.registerComponentView(Rt),Zt(l)}var Ct=function(l){function s(){var t=l!==null&&l.apply(this,arguments)||this;return t.type=s.type,t}return T(s,l),s.type="dataZoom.slider",s.layoutMode="box",s.defaultOption=J(H.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),s}(H),R=E,A="horizontal",$="vertical",Lt=["line","bar","candlestick","scatter"],Pt={easing:"cubicOut",duration:100,delay:0};function q(l){return l==="vertical"?"ns-resize":"ew-resize"}var Bt=function(l){function s(){var t=l!==null&&l.apply(this,arguments)||this;return t.type=s.type,t._displayables={},t}return T(s,l),s.prototype.init=function(t,i){this.api=i,this._onBrush=v(this._onBrush,this),this._onBrushEnd=v(this._onBrushEnd,this)},s.prototype.render=function(t,i,n,o){if(l.prototype.render.apply(this,arguments),tt(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")!==!1){if(t.noTarget())return this._clear(),void this.group.removeAll();o&&o.type==="dataZoom"&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},s.prototype.dispose=function(){this._clear(),l.prototype.dispose.apply(this,arguments)},s.prototype._clear=function(){rt(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},s.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new G;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},s.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,n=t.get("brushSelect")?7:0,o=this._findCoordRect(),e={width:i.getWidth(),height:i.getHeight()},a=this._orient===A?{right:e.width-o.x-o.width,top:e.height-30-7-n,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},r=lt(t.option);Z(["right","top","width","height"],function(d){r[d]==="ph"&&(r[d]=a[d])});var h=ht(r,e);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===$&&this._size.reverse()},s.prototype._positionGroup=function(){var t=this.group,i=this._location,n=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),e=o&&o.get("inverse"),a=this._displayables.sliderGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==A||e?n===A&&e?{scaleY:r?1:-1,scaleX:-1}:n!==$||e?{scaleY:r?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:r?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:r?1:-1,scaleX:1});var h=t.getBoundingRect([a]);t.x=i.x-h.x,t.y=i.y-h.y,t.markRedraw()},s.prototype._getViewExtent=function(){return[0,this._size[0]]},s.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,n=this._displayables.sliderGroup,o=t.get("brushSelect");n.add(new R({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var e=new R({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:v(this._onClickPanel,this)}),a=this.api.getZr();o?(e.on("mousedown",this._onBrushStart,this),e.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),n.add(e)},s.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,n=this._shadowSize||[],o=t.series,e=o.getRawData(),a=o.getShadowDim&&o.getShadowDim(),r=a&&e.getDimensionInfo(a)?o.getShadowDim():t.otherDim;if(r!=null){var h=this._shadowPolygonPts,d=this._shadowPolylinePts;if(e!==this._shadowData||r!==this._shadowDim||i[0]!==n[0]||i[1]!==n[1]){var u=e.getDataExtent(r),p=.3*(u[1]-u[0]);u=[u[0]-p,u[1]+p];var g,f=[0,i[1]],m=[0,i[0]],y=[[i[0],0],[0,0]],c=[],_=m[1]/(e.count()-1),x=0,M=Math.round(e.count()/i[0]);e.each([r],function(S,z){if(M>0&&z%M)x+=_;else{var D=S==null||isNaN(S)||S==="",P=D?0:b(S,u,f,!0);D&&!g&&z?(y.push([y[y.length-1][0],0]),c.push([c[c.length-1][0],0])):!D&&g&&(y.push([x,0]),c.push([x,0])),y.push([x,P]),c.push([x,P]),x+=_,g=D}}),h=this._shadowPolygonPts=y,d=this._shadowPolylinePts=c}this._shadowData=e,this._shadowDim=r,this._shadowSize=[i[0],i[1]];for(var w=this.dataZoomModel,I=0;I<3;I++){var C=L(I===1);this._displayables.sliderGroup.add(C),this._displayables.dataShadowSegs.push(C)}}}function L(S){var z=w.getModel(S?"selectedDataBackground":"dataBackground"),D=new G,P=new dt({shape:{points:h},segmentIgnoreThreshold:1,style:z.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),nt=new pt({shape:{points:d},segmentIgnoreThreshold:1,style:z.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return D.add(P),D.add(nt),D}},s.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(i!==!1){var n,o=this.ecModel;return t.eachTargetAxis(function(e,a){var r=t.getAxisProxy(e,a).getTargetSeriesModels();Z(r,function(h){if(!(n||i!==!0&&ut(Lt,h.get("type"))<0)){var d,u=o.getComponent(St(e),a).axis,p={x:"y",y:"x",radius:"angle",angle:"radius"}[e],g=h.coordinateSystem;p!=null&&g.getOtherAxis&&(d=g.getOtherAxis(u).inverse),p=h.getData().mapDimension(p),n={thisAxis:u,series:h,thisDim:e,otherDim:p,otherAxisInverse:d}}},this)},this),n}},s.prototype._renderHandle=function(){var t=this.group,i=this._displayables,n=i.handles=[null,null],o=i.handleLabels=[null,null],e=this._displayables.sliderGroup,a=this._size,r=this.dataZoomModel,h=this.api,d=r.get("borderRadius")||0,u=r.get("brushSelect"),p=i.filler=new R({silent:u,style:{fill:r.get("fillerColor")},textConfig:{position:"inside"}});e.add(p),e.add(new R({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:d},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Z([0,1],function(x){var M=r.get("handleIcon");!ct[M]&&M.indexOf("path://")<0&&M.indexOf("image://")<0&&(M="path://"+M);var w=X(M,-1,0,2,2,null,!0);w.attr({cursor:q(this._orient),draggable:!0,drift:v(this._onDragMove,this,x),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1),z2:5});var I=w.getBoundingRect(),C=r.get("handleSize");this._handleHeight=Y(C,this._size[1]),this._handleWidth=I.width/I.height*this._handleHeight,w.setStyle(r.getModel("handleStyle").getItemStyle()),w.style.strokeNoScale=!0,w.rectHover=!0,w.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),gt(w);var L=r.get("handleColor");L!=null&&(w.style.fill=L),e.add(n[x]=w);var S=r.getModel("textStyle");t.add(o[x]=new ft({silent:!0,invisible:!0,style:mt(S,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:S.getTextColor(),font:S.getFont()}),z2:10}))},this);var g=p;if(u){var f=Y(r.get("moveHandleSize"),a[1]),m=i.moveHandle=new E({style:r.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:f}}),y=.8*f,c=i.moveHandleIcon=X(r.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);c.silent=!0,c.y=a[1]+f/2-.5,m.ensureState("emphasis").style=r.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var _=Math.min(a[1]/2,Math.max(f,10));(g=i.moveZone=new E({invisible:!0,shape:{y:a[1]-_,height:f+_}})).on("mouseover",function(){h.enterEmphasis(m)}).on("mouseout",function(){h.leaveEmphasis(m)}),e.add(m),e.add(c),e.add(g)}g.attr({draggable:!0,cursor:q(this._orient),drift:v(this._onDragMove,this,"all"),ondragstart:v(this._showDataInfo,this,!0),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1)})},s.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[b(t[0],[0,100],i,!0),b(t[1],[0,100],i,!0)]},s.prototype._updateInterval=function(t,i){var n=this.dataZoomModel,o=this._handleEnds,e=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];W(i,o,e,n.get("zoomLock")?"all":t,a.minSpan!=null?b(a.minSpan,r,e,!0):null,a.maxSpan!=null?b(a.maxSpan,r,e,!0):null);var h=this._range,d=this._range=B([b(o[0],e,r,!0),b(o[1],e,r,!0)]);return!h||h[0]!==d[0]||h[1]!==d[1]},s.prototype._updateView=function(t){var i=this._displayables,n=this._handleEnds,o=B(n.slice()),e=this._size;Z([0,1],function(g){var f=i.handles[g],m=this._handleHeight;f.attr({scaleX:m/2,scaleY:m/2,x:n[g]+(g?-1:1),y:e[1]/2-m/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:e[1]});var a={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(a),i.moveZone.setShape(a),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",a.x+a.width/2));for(var r=i.dataShadowSegs,h=[0,o[0],o[1],e[0]],d=0;d<r.length;d++){var u=r[d],p=u.getClipPath();p||(p=new E,u.setClipPath(p)),p.setShape({x:h[d],y:0,width:h[d+1]-h[d],height:e[1]})}this._updateDataInfo(t)},s.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,n=this._displayables,o=n.handleLabels,e=this._orient,a=["",""];if(i.get("showDetail")){var r=i.findRepresentativeAxisProxy();if(r){var h=r.getAxisModel().axis,d=this._range,u=t?r.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:r.getDataValueWindow();a=[this._formatLabel(u[0],h),this._formatLabel(u[1],h)]}}var p=B(this._handleEnds.slice());function g(f){var m=xt(n.handles[f].parent,this.group),y=wt(f===0?"right":"left",m),c=this._handleWidth/2+5,_=N([p[f]+(f===0?-c:c),this._size[1]/2],m);o[f].setStyle({x:_[0],y:_[1],verticalAlign:e===A?"middle":y,align:e===A?y:"center",text:a[f]})}g.call(this,0),g.call(this,1)},s.prototype._formatLabel=function(t,i){var n=this.dataZoomModel,o=n.get("labelFormatter"),e=n.get("labelPrecision");e!=null&&e!=="auto"||(e=i.getPixelPrecision());var a=t==null||isNaN(t)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(e,20));return yt(o)?o(t,a):vt(o)?o.replace("{value}",a):a},s.prototype._showDataInfo=function(t){t=this._dragging||t;var i=this._displayables,n=i.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},s.prototype._onDragMove=function(t,i,n,o){this._dragging=!0,F(o.event);var e=this._displayables.sliderGroup.getLocalTransform(),a=N([i,n],e,!0),r=this._updateInterval(t,a[0]),h=this.dataZoomModel.get("realtime");this._updateView(!h),r&&h&&this._dispatchZoomAction(!0)},s.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},s.prototype._onClickPanel=function(t){var i=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>i[0]||n[1]<0||n[1]>i[1])){var o=this._handleEnds,e=(o[0]+o[1])/2,a=this._updateInterval("all",n[0]-e);this._updateView(),a&&this._dispatchZoomAction(!1)}},s.prototype._onBrushStart=function(t){var i=t.offsetX,n=t.offsetY;this._brushStart=new _t(i,n),this._brushing=!0,this._brushStartTime=+new Date},s.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var n=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),e=[0,100];this._range=B([b(n.x,o,e,!0),b(n.x+n.width,o,e,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},s.prototype._onBrush=function(t){this._brushing&&(F(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},s.prototype._updateBrushRect=function(t,i){var n=this._displayables,o=this.dataZoomModel,e=n.brushRect;e||(e=n.brushRect=new R({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(e)),e.attr("ignore",!1);var a=this._brushStart,r=this._displayables.sliderGroup,h=r.transformCoordToLocal(t,i),d=r.transformCoordToLocal(a.x,a.y),u=this._size;h[0]=Math.max(Math.min(u[0],h[0]),0),e.setShape({x:d[0],y:0,width:h[0]-d[0],height:u[1]})},s.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Pt:null,start:i[0],end:i[1]})},s.prototype._findCoordRect=function(){var t,i=ot(this.dataZoomModel).infoList;if(!t&&i.length){var n=i[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var o=this.api.getWidth(),e=this.api.getHeight();t={x:.2*o,y:.2*e,width:.6*o,height:.6*e}}return t},s.type="dataZoom.slider",s}(et);function Et(l){l.registerComponentModel(Ct),l.registerComponentView(Bt),it(l)}function Wt(l){K(At),K(Et)}export{Wt as install};
