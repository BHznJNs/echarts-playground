import{r as ut,f as ft,h as ct,u as gt,i as yt}from"./install23-BAJ7JitM.js";import{e as nt,o as mt,b0 as k,d as _t,bc as vt,p as xt,y as V,H as A,bd as wt,be as Tt,a8 as H,bf as bt,aP as $,N as D,bg as Ct,bh as St,bi as L,bj as F,D as j,bk as Z,T as Mt,G as B,j as P,bl as It,bm as Dt,U as N,i as G,aB as st,Z as kt,$ as Ot,Y as zt,x as q,bn as rt,b as X,bo as W,b2 as Q,bp as Bt,O as Ht,bq as At,f as Yt,br as at,bb as Pt,bs as Xt}from"./index-B7p1rSoh.js";import"./AxisView-DFBExtUn.js";import"./AxisBuilder-DO5pSo3v.js";import"./labelLayoutHelper-BB_RXLLn.js";var Lt=function(r){function e(){var o=r!==null&&r.apply(this,arguments)||this;return o.type=e.type,o}return nt(e,r),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(mt);function lt(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function ht(r){if(k.domSupported){for(var e=document.documentElement.style,o=0,t=r.length;o<t;o++)if(r[o]in e)return r[o]}}var dt=ht(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function pt(r,e){if(!r)return e;e=rt(e,!0);var o=r.indexOf(e);return(r=o===-1?e:"-"+r.slice(0,o)+"-"+e).toLowerCase()}var Rt=pt(ht(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),E=pt(dt,"transform"),Wt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(k.transform3dSupported?"will-change:transform;":"");function J(r,e,o){var t=r.toFixed(0)+"px",s=e.toFixed(0)+"px";if(!k.transformSupported)return o?"top:"+s+";left:"+t+";":[["top",s],["left",t]];var i=k.transform3dSupported,n="translate"+(i?"3d":"")+"("+t+","+s+(i?",0":"")+")";return o?"top:0;left:0;"+E+":"+n+";":[["top",0],["left",0],[dt,n]]}function Nt(r,e,o){var t=[],s=r.get("transitionDuration"),i=r.get("backgroundColor"),n=r.get("shadowBlur"),a=r.get("shadowColor"),l=r.get("shadowOffsetX"),d=r.get("shadowOffsetY"),f=r.getModel("textStyle"),u=at(r,"html"),_=l+"px "+d+"px "+n+"px "+a;return t.push("box-shadow:"+_),e&&s&&t.push(function(p,g){var v="cubic-bezier(0.23,1,0.32,1)",y=" "+p/2+"s "+v,m="opacity"+y+",visibility"+y;return g||(y=" "+p+"s "+v,m+=k.transformSupported?","+E+y:",left"+y+",top"+y),Rt+":"+m}(s,o)),i&&t.push("background-color:"+i),D(["width","color","radius"],function(p){var g="border-"+p,v=rt(g),y=r.get(v);y!=null&&t.push(g+":"+y+(p==="color"?"":"px"))}),t.push(function(p){var g=[],v=p.get("fontSize"),y=p.getTextColor();y&&g.push("color:"+y),g.push("font:"+p.getFont()),v&&g.push("line-height:"+Math.round(3*v/2)+"px");var m=p.get("textShadowColor"),c=p.get("textShadowBlur")||0,h=p.get("textShadowOffsetX")||0,b=p.get("textShadowOffsetY")||0;return m&&c&&g.push("text-shadow:"+h+"px "+b+"px "+c+"px "+m),D(["decoration","align"],function(C){var x=p.get(C);x&&g.push("text-"+C+":"+x)}),g.join(";")}(f)),u!=null&&t.push("padding:"+Pt(u).join("px ")+"px"),t.join(";")+";"}function K(r,e,o,t,s){var i=e&&e.painter;if(o){var n=i&&i.getViewportRoot();n&&Xt(r,n,o,t,s)}else{r[0]=t,r[1]=s;var a=i&&i.getViewportRootOffset();a&&(r[0]+=a.offsetLeft,r[1]+=a.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Et=function(){function r(e,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,k.wxa)return null;var t=document.createElement("div");t.domBelongToZr=!0,this.el=t;var s=this._zr=e.getZr(),i=o.appendTo,n=i&&(B(i)?document.querySelector(i):Q(i)?i:N(i)&&i(e.getDom()));K(this._styleCoord,s,n,e.getWidth()/2,e.getHeight()/2),(n||e.getDom()).appendChild(t),this._api=e,this._container=n;var a=this;t.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},t.onmousemove=function(l){if(l=l||window.event,!a._enterable){var d=s.handler,f=s.painter.getViewportRoot();Bt(f,l,!0),d.dispatch("mousemove",l)}},t.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var o=this._api.getDom(),t=(n="position",(a=(i=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i))?n?a[n]:a:null),s=o.style;s.position!=="absolute"&&t!=="absolute"&&(s.position="relative")}var i,n,a,l=e.get("alwaysShowContent");l&&this._moveIfResized(),this._alwaysShowContent=l,this.el.className=e.get("className")||""},r.prototype.show=function(e,o){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el,s=t.style,i=this._styleCoord;t.innerHTML?s.cssText=Wt+Nt(e,!this._firstShow,this._longHide)+J(i[0],i[1],!0)+"border-color:"+L(o)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,o,t,s,i){var n=this.el;if(e!=null){var a="";if(B(i)&&t.get("trigger")==="item"&&!lt(t)&&(a=function(f,u,_){if(!B(_)||_==="inside")return"";var p=f.get("backgroundColor"),g=f.get("borderWidth");u=L(u);var v,y,m=(v=_)==="left"?"right":v==="right"?"left":v==="top"?"bottom":"top",c=Math.max(1.5*Math.round(g),6),h="",b=E+":";Ht(["left","right"],m)>-1?(h+="top:50%",b+="translateY(-50%) rotate("+(y=m==="left"?-225:-45)+"deg)"):(h+="left:50%",b+="translateX(-50%) rotate("+(y=m==="top"?225:45)+"deg)");var C=y*Math.PI/180,x=c+g,w=x*Math.abs(Math.cos(C))+x*Math.abs(Math.sin(C)),T=u+" solid "+g+"px;";return'<div style="'+["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",(h+=";"+m+":-"+Math.round(100*((w-Math.SQRT2*g)/2+Math.SQRT2*g-(w-x)/2))/100+"px")+";"+b+";","border-bottom:"+T,"border-right:"+T,"background-color:"+p+";"].join("")+'"></div>'}(t,s,i)),B(e))n.innerHTML=e+a;else if(e){n.innerHTML="",P(e)||(e=[e]);for(var l=0;l<e.length;l++)Q(e[l])&&e[l].parentNode!==n&&n.appendChild(e[l]);if(a&&n.childNodes.length){var d=document.createElement("div");d.innerHTML=a,n.appendChild(d)}}}else n.innerHTML=""},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},r.prototype.moveTo=function(e,o){var t=this._styleCoord;if(K(t,this._zr,this._container,e,o),t[0]!=null&&t[1]!=null){var s=this.el.style,i=J(t[0],t[1]);D(i,function(n){s[n[0]]=n[1]})}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],o=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),o*this._zr.getHeight())},r.prototype.hide=function(){var e=this,o=this.el.style;o.visibility="hidden",o.opacity="0",k.transform3dSupported&&(o.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(A(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},r}(),Ut=function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),et(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,o,t,s,i){var n=this;st(e)&&At(""),this.el&&this._zr.remove(this.el);var a=t.getModel("textStyle");this.el=new Yt({style:{rich:o.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:a.get("textShadowColor"),fill:t.get(["textStyle","color"]),padding:at(t,"richText"),verticalAlign:"top",align:"left"},z:t.get("z")}),D(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(d){n.el.style[d]=t.get(d)}),D(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(d){n.el.style[d]=a.get(d)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,o=this.el.getBoundingRect(),t=tt(e.style);return[o.width+t.left+t.right,o.height+t.top+t.bottom]},r.prototype.moveTo=function(e,o){var t=this.el;if(t){var s=this._styleCoord;et(s,this._zr,e,o),e=s[0],o=s[1];var i=t.style,n=z(i.borderWidth||0),a=tt(i);t.x=e+n+a.left,t.y=o+n+a.top,t.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],o=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),o*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(A(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function z(r){return Math.max(0,r)}function tt(r){var e=z(r.shadowBlur||0),o=z(r.shadowOffsetX||0),t=z(r.shadowOffsetY||0);return{left:z(e-o),right:z(e+o),top:z(e-t),bottom:z(e+t)}}function et(r,e,o,t){r[0]=o,r[1]=t,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Vt=new _t({shape:{x:-1,y:-1,width:2,height:2}});function Y(r,e,o){var t,s=e.ecModel;o?(t=new X(o,s,s),t=new X(e.option,t,s)):t=e;for(var i=r.length-1;i>=0;i--){var n=r[i];n&&(n instanceof X&&(n=n.get("tooltip",!0)),B(n)&&(n={formatter:n}),n&&(t=new X(n,t,s)))}return t}function ot(r,e){return r.dispatchAction||A(e.dispatchAction,e)}function it(r){return r==="center"||r==="middle"}var $t=function(r){function e(){var o=r!==null&&r.apply(this,arguments)||this;return o.type=e.type,o}return nt(e,r),e.prototype.init=function(o,t){if(!k.node&&t.getDom()){var s=o.getComponent("tooltip"),i=this._renderMode=vt(s.get("renderMode"));this._tooltipContent=i==="richText"?new Ut(t):new Et(t,{appendTo:s.get("appendToBody",!0)?"body":s.get("appendTo",!0)})}},e.prototype.render=function(o,t,s){if(!k.node&&s.getDom()){this.group.removeAll(),this._tooltipModel=o,this._ecModel=t,this._api=s;var i=this._tooltipContent;i.update(o),i.setEnterable(o.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&o.get("transitionDuration")?xt(this,"_updatePosition",50,"fixRate"):V(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var o=this._tooltipModel.get("triggerOn");ut("itemTooltip",this._api,A(function(t,s,i){o!=="none"&&(o.indexOf(t)>=0?this._tryShow(s,i):t==="leave"&&this._hide(i))},this))},e.prototype._keepShow=function(){var o=this._tooltipModel,t=this._ecModel,s=this._api,i=o.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!s.isDisposed()&&n.manuallyShowTip(o,t,s,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(o,t,s,i){if(i.from!==this.uid&&!k.node&&s.getDom()){var n=ot(i,s);this._ticket="";var a=i.dataByCoordSys,l=function(g,v,y){var m=wt(g).queryOptionMap,c=m.keys()[0];if(!(!c||c==="series")){var h=Tt(v,c,m.get(c),{useDefault:!1,enableAll:!1,enableNone:!1}),b=h.models[0];if(b){var C,x=y.getViewOfComponentModel(b);if(x.group.traverse(function(w){var T=H(w).tooltipConfig;if(T&&T.name===g.name)return C=w,!0}),C)return{componentMainType:c,componentIndex:b.componentIndex,el:C}}}}(i,t,s);if(l){var d=l.el.getBoundingRect().clone();d.applyTransform(l.el.transform),this._tryShow({offsetX:d.x+d.width/2,offsetY:d.y+d.height/2,target:l.el,position:i.position,positionDefault:"bottom"},n)}else if(i.tooltip&&i.x!=null&&i.y!=null){var f=Vt;f.x=i.x,f.y=i.y,f.update(),H(f).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:f},n)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:a,tooltipOption:i.tooltipOption},n);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(o,t,s,i))return;var u=ft(i,t),_=u.point[0],p=u.point[1];_!=null&&p!=null&&this._tryShow({offsetX:_,offsetY:p,target:u.el,position:i.position,positionDefault:"bottom"},n)}else i.x!=null&&i.y!=null&&(s.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:s.getZr().findHover(i.x,i.y).target},n))}},e.prototype.manuallyHideTip=function(o,t,s,i){var n=this._tooltipContent;this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(ot(i,s))},e.prototype._manuallyAxisShowTip=function(o,t,s,i){var n=i.seriesIndex,a=i.dataIndex,l=t.getComponent("axisPointer").coordSysAxesInfo;if(n!=null&&a!=null&&l!=null){var d=t.getSeriesByIndex(n);if(d&&Y([d.getData().getItemModel(a),d,(d.coordinateSystem||{}).model],this._tooltipModel).get("trigger")==="axis")return s.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:a,position:i.position}),!0}},e.prototype._tryShow=function(o,t){var s=o.target;if(this._tooltipModel){this._lastX=o.offsetX,this._lastY=o.offsetY;var i=o.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,o);else if(s){var n,a;if(H(s).ssrType==="legend")return;this._lastDataByCoordSys=null,bt(s,function(l){return H(l).dataIndex!=null?(n=l,!0):H(l).tooltipConfig!=null?(a=l,!0):void 0},!0),n?this._showSeriesItemTooltip(o,n,t):a?this._showComponentItemTooltip(o,a,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},e.prototype._showOrMove=function(o,t){var s=o.get("showDelay");t=A(t,this),clearTimeout(this._showTimout),s>0?this._showTimout=setTimeout(t,s):t()},e.prototype._showAxisTooltip=function(o,t){var s=this._ecModel,i=this._tooltipModel,n=[t.offsetX,t.offsetY],a=Y([t.tooltipOption],i),l=this._renderMode,d=[],f=$("section",{blocks:[],noHeader:!0}),u=[],_=new W;D(o,function(c){D(c.dataByAxis,function(h){var b=s.getComponent(h.axisDim+"Axis",h.axisIndex),C=h.value;if(b&&C!=null){var x=ct(C,b.axis,s,h.seriesDataIndices,h.valueLabelOpt),w=$("section",{header:x,noHeader:!Ct(x),sortBlocks:!0,blocks:[]});f.blocks.push(w),D(h.seriesDataIndices,function(T){var M=s.getSeriesByIndex(T.seriesIndex),I=T.dataIndexInside,S=M.getDataParams(I);if(!(S.dataIndex<0)){S.axisDim=h.axisDim,S.axisIndex=h.axisIndex,S.axisType=h.axisType,S.axisId=h.axisId,S.axisValue=St(b.axis,{value:C}),S.axisValueLabel=x,S.marker=_.makeTooltipMarker("item",L(S.color),l);var O=F(M.formatTooltip(I,!0,null)),R=O.frag;if(R){var U=Y([M],i).get("valueFormatter");w.blocks.push(U?j({valueFormatter:U},R):R)}O.text&&u.push(O.text),d.push(S)}})}})}),f.blocks.reverse(),u.reverse();var p=t.position,g=a.get("order"),v=Z(f,_,l,g,s.get("useUTC"),a.get("textStyle"));v&&u.unshift(v);var y=l==="richText"?`

`:"<br/>",m=u.join(y);this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(o,d)?this._updatePosition(a,p,n[0],n[1],this._tooltipContent,d):this._showTooltipContent(a,m,d,Math.random()+"",n[0],n[1],p,null,_)})},e.prototype._showSeriesItemTooltip=function(o,t,s){var i=this._ecModel,n=H(t),a=n.seriesIndex,l=i.getSeriesByIndex(a),d=n.dataModel||l,f=n.dataIndex,u=n.dataType,_=d.getData(u),p=this._renderMode,g=o.positionDefault,v=Y([_.getItemModel(f),d,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),y=v.get("trigger");if(y==null||y==="item"){var m=d.getDataParams(f,u),c=new W;m.marker=c.makeTooltipMarker("item",L(m.color),p);var h=F(d.formatTooltip(f,!1,u)),b=v.get("order"),C=v.get("valueFormatter"),x=h.frag,w=x?Z(C?j({valueFormatter:C},x):x,c,p,b,i.get("useUTC"),v.get("textStyle")):h.text,T="item_"+d.name+"_"+f;this._showOrMove(v,function(){this._showTooltipContent(v,w,m,T,o.offsetX,o.offsetY,o.position,o.target,c)}),s({type:"showTip",dataIndexInside:f,dataIndex:_.getRawIndex(f),seriesIndex:a,from:this.uid})}},e.prototype._showComponentItemTooltip=function(o,t,s){var i=H(t),n=i.tooltipConfig.option||{};B(n)&&(n={content:n,formatter:n});var a=[n],l=this._ecModel.getComponent(i.componentMainType,i.componentIndex);l&&a.push(l),a.push({formatter:n.content});var d=o.positionDefault,f=Y(a,this._tooltipModel,d?{position:d}:null),u=f.get("content"),_=Math.random()+"",p=new W;this._showOrMove(f,function(){var g=Mt(f.get("formatterParams")||{});this._showTooltipContent(f,u,g,_,o.offsetX,o.offsetY,o.position,t,p)}),s({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(o,t,s,i,n,a,l,d,f){if(this._ticket="",o.get("showContent")&&o.get("show")){var u=this._tooltipContent;u.setEnterable(o.get("enterable"));var _=o.get("formatter");l=l||o.get("position");var p=t,g=this._getNearestPoint([n,a],s,o.get("trigger"),o.get("borderColor")).color;if(_)if(B(_)){var v=o.ecModel.get("useUTC"),y=P(s)?s[0]:s;p=_,y&&y.axisType&&y.axisType.indexOf("time")>=0&&(p=It(y.axisValue,p,v)),p=Dt(p,s,!0)}else if(N(_)){var m=A(function(c,h){c===this._ticket&&(u.setContent(h,f,o,g,l),this._updatePosition(o,l,n,a,u,s,d))},this);this._ticket=i,p=_(s,i,m)}else p=_;u.setContent(p,f,o,g,l),u.show(o,g),this._updatePosition(o,l,n,a,u,s,d)}},e.prototype._getNearestPoint=function(o,t,s,i){return s==="axis"||P(t)?{color:i||(this._renderMode==="html"?"#fff":"none")}:P(t)?void 0:{color:i||t.color||t.borderColor}},e.prototype._updatePosition=function(o,t,s,i,n,a,l){var d=this._api.getWidth(),f=this._api.getHeight();t=t||o.get("position");var u=n.getSize(),_=o.get("align"),p=o.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),N(t)&&(t=t([s,i],a,n.el,g,{viewSize:[d,f],contentSize:u.slice()})),P(t))s=G(t[0],d),i=G(t[1],f);else if(st(t)){var v=t;v.width=u[0],v.height=u[1];var y=kt(v,{width:d,height:f});s=y.x,i=y.y,_=null,p=null}else if(B(t)&&l){var m=function(c,h,b,C){var x=b[0],w=b[1],T=Math.ceil(Math.SQRT2*C)+8,M=0,I=0,S=h.width,O=h.height;switch(c){case"inside":M=h.x+S/2-x/2,I=h.y+O/2-w/2;break;case"top":M=h.x+S/2-x/2,I=h.y-w-T;break;case"bottom":M=h.x+S/2-x/2,I=h.y+O+T;break;case"left":M=h.x-x-T,I=h.y+O/2-w/2;break;case"right":M=h.x+S+T,I=h.y+O/2-w/2}return[M,I]}(t,g,u,o.get("borderWidth"));s=m[0],i=m[1]}else m=function(c,h,b,C,x,w,T){var M=b.getSize(),I=M[0],S=M[1];return w!=null&&(c+I+w+2>C?c-=I+w:c+=w),T!=null&&(h+S+T>x?h-=S+T:h+=T),[c,h]}(s,i,n,d,f,_?null:20,p?null:20),s=m[0],i=m[1];_&&(s-=it(_)?u[0]/2:_==="right"?u[0]:0),p&&(i-=it(p)?u[1]/2:p==="bottom"?u[1]:0),lt(o)&&(m=function(c,h,b,C,x){var w=b.getSize(),T=w[0],M=w[1];return c=Math.min(c+T,C)-T,h=Math.min(h+M,x)-M,c=Math.max(c,0),h=Math.max(h,0),[c,h]}(s,i,n,d,f),s=m[0],i=m[1]),n.moveTo(s,i)},e.prototype._updateContentNotChangedOnAxis=function(o,t){var s=this._lastDataByCoordSys,i=this._cbParamsList,n=!!s&&s.length===o.length;return n&&D(s,function(a,l){var d=a.dataByAxis||[],f=(o[l]||{}).dataByAxis||[];(n=n&&d.length===f.length)&&D(d,function(u,_){var p=f[_]||{},g=u.seriesDataIndices||[],v=p.seriesDataIndices||[];(n=n&&u.value===p.value&&u.axisType===p.axisType&&u.axisId===p.axisId&&g.length===v.length)&&D(g,function(y,m){var c=v[m];n=n&&y.seriesIndex===c.seriesIndex&&y.dataIndex===c.dataIndex}),i&&D(u.seriesDataIndices,function(y){var m=y.seriesIndex,c=t[m],h=i[m];c&&h&&h.data!==c.data&&(n=!1)})})}),this._lastDataByCoordSys=o,this._cbParamsList=t,!!n},e.prototype._hide=function(o){this._lastDataByCoordSys=null,o({type:"hideTip",from:this.uid})},e.prototype.dispose=function(o,t){!k.node&&t.getDom()&&(V(this,"_updatePosition"),this._tooltipContent.dispose(),gt("itemTooltip",t))},e.type="tooltip",e}(Ot);function Qt(r){zt(yt),r.registerComponentModel(Lt),r.registerComponentView($t),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},q),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},q)}export{Qt as install};
