import{e as K,bV as oe,i as N,aC as H,cf as ae,N as le,az as Y,cg as se,f as Z,w as $,bL as q,V as B,ch as O,ab as W,ah as ge,D as he,bU as ee,bT as te,L as ie,A as re,bS as de,ci as ce,bP as pe,bJ as ue,G as ye,U as fe,ap as me}from"./index-B7p1rSoh.js";import{e as ne}from"./sausage-BF-p41XP.js";import{s as ve}from"./createSeriesDataSimply-BvwvDBDa.js";var we=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},xe=function(C){function a(e){var r=C.call(this,e)||this;return r.type="pointer",r}return K(a,C),a.prototype.getDefaultShape=function(){return new we},a.prototype.buildPath=function(e,r){var f=Math.cos,l=Math.sin,t=r.r,s=r.width,n=r.angle,w=r.x-f(n)*s*(s>=t/3?1:2),S=r.y-l(n)*s*(s>=t/3?1:2);n=r.angle-Math.PI/2,e.moveTo(w,S),e.lineTo(r.x+f(n)*s,r.y+l(n)*s),e.lineTo(r.x+f(r.angle)*t,r.y+l(r.angle)*t),e.lineTo(r.x-f(n)*s,r.y-l(n)*s),e.lineTo(w,S)},a}(oe);function F(C,a){var e=C==null?"":C+"";return a&&(ye(a)?e=a.replace("{value}",e):fe(a)&&(e=a(C))),e}var Me=function(C){function a(){var e=C!==null&&C.apply(this,arguments)||this;return e.type=a.type,e}return K(a,C),a.prototype.render=function(e,r,f){this.group.removeAll();var l=e.get(["axisLine","lineStyle","color"]),t=function(s,n){var w=s.get("center"),S=n.getWidth(),m=n.getHeight(),b=Math.min(S,m);return{cx:N(w[0],n.getWidth()),cy:N(w[1],n.getHeight()),r:N(s.get("radius"),b/2)}}(e,f);this._renderMain(e,r,f,l,t),this._data=e.getData()},a.prototype.dispose=function(){},a.prototype._renderMain=function(e,r,f,l,t){var s=this.group,n=e.get("clockwise"),w=-e.get("startAngle")/180*Math.PI,S=-e.get("endAngle")/180*Math.PI,m=e.getModel("axisLine"),b=m.get("roundCap")?ne:H,V=m.get("show"),L=m.getModel("lineStyle"),z=L.get("width"),h=[w,S];ae(h,!n);for(var u=(S=h[1])-(w=h[0]),g=w,P=[],T=0;V&&T<l.length;T++){var k=new b({shape:{startAngle:g,endAngle:S=w+u*Math.min(Math.max(l[T][0],0),1),cx:t.cx,cy:t.cy,clockwise:n,r0:t.r-z,r:t.r},silent:!0});k.setStyle({fill:l[T][1]}),k.setStyle(L.getLineStyle(["color","width"])),P.push(k),g=S}P.reverse(),le(P,function(I){return s.add(I)});var x=function(I){if(I<=0)return l[0][1];var _;for(_=0;_<l.length;_++)if(l[_][0]>=I&&(_===0?0:l[_-1][0])<I)return l[_][1];return l[_-1][1]};this._renderTicks(e,r,f,x,t,w,S,n,z),this._renderTitleAndDetail(e,r,f,x,t),this._renderAnchor(e,t),this._renderPointer(e,r,f,x,t,w,S,n,z)},a.prototype._renderTicks=function(e,r,f,l,t,s,n,w,S){for(var m,b,V=this.group,L=t.cx,z=t.cy,h=t.r,u=+e.get("min"),g=+e.get("max"),P=e.getModel("splitLine"),T=e.getModel("axisTick"),k=e.getModel("axisLabel"),x=e.get("splitNumber"),I=T.get("splitNumber"),_=N(P.get("length"),h),U=N(T.get("length"),h),i=s,v=(n-s)/x,y=v/I,d=P.getModel("lineStyle").getLineStyle(),M=T.getModel("lineStyle").getLineStyle(),A=P.get("distance"),o=0;o<=x;o++){if(m=Math.cos(i),b=Math.sin(i),P.get("show")){var c=new Y({shape:{x1:m*(h-(p=A?A+S:S))+L,y1:b*(h-p)+z,x2:m*(h-_-p)+L,y2:b*(h-_-p)+z},style:d,silent:!0});d.stroke==="auto"&&c.setStyle({stroke:l(o/x)}),V.add(c)}if(k.get("show")){var p=k.get("distance")+A,E=F(se(o/x*(g-u)+u),k.get("formatter")),D=l(o/x),R=m*(h-_-p)+L,X=b*(h-_-p)+z,Q=k.get("rotate"),G=0;Q==="radial"?(G=-i+2*Math.PI)>Math.PI/2&&(G+=Math.PI):Q==="tangential"?G=-i-Math.PI/2:me(Q)&&(G=Q*Math.PI/180),G===0?V.add(new Z({style:$(k,{text:E,x:R,y:X,verticalAlign:b<-.8?"top":b>.8?"bottom":"middle",align:m<-.4?"left":m>.4?"right":"center"},{inheritColor:D}),silent:!0})):V.add(new Z({style:$(k,{text:E,x:R,y:X,verticalAlign:"middle",align:"center"},{inheritColor:D}),silent:!0,originX:R,originY:X,rotation:G}))}if(T.get("show")&&o!==x){p=(p=T.get("distance"))?p+S:S;for(var J=0;J<=I;J++){m=Math.cos(i),b=Math.sin(i);var j=new Y({shape:{x1:m*(h-p)+L,y1:b*(h-p)+z,x2:m*(h-U-p)+L,y2:b*(h-U-p)+z},silent:!0,style:M});M.stroke==="auto"&&j.setStyle({stroke:l((o+J/I)/x)}),V.add(j),i+=y}i-=y}else i+=v}},a.prototype._renderPointer=function(e,r,f,l,t,s,n,w,S){var m=this.group,b=this._data,V=this._progressEls,L=[],z=e.get(["pointer","show"]),h=e.getModel("progress"),u=h.get("show"),g=e.getData(),P=g.mapDimension("value"),T=+e.get("min"),k=+e.get("max"),x=[T,k],I=[s,n];function _(i,v){var y,d=g.getItemModel(i).getModel("pointer"),M=N(d.get("width"),t.r),A=N(d.get("length"),t.r),o=e.get(["pointer","icon"]),c=d.get("offsetCenter"),p=N(c[0],t.r),E=N(c[1],t.r),D=d.get("keepAspect");return(y=o?ie(o,p-M/2,E-A,M,A,null,D):new xe({shape:{angle:-Math.PI/2,width:M,r:A,x:p,y:E}})).rotation=-(v+Math.PI/2),y.x=t.cx,y.y=t.cy,y}function U(i,v){var y=h.get("roundCap")?ne:H,d=h.get("overlap"),M=d?h.get("width"):S/g.count(),A=d?t.r-M:t.r-(i+1)*M,o=d?t.r:t.r-i*M,c=new y({shape:{startAngle:s,endAngle:v,cx:t.cx,cy:t.cy,clockwise:w,r0:A,r:o}});return d&&(c.z2=k-g.get(P,i)%k),c}(u||z)&&(g.diff(b).add(function(i){var v=g.get(P,i);if(z){var y=_(i,s);q(y,{rotation:-((isNaN(+v)?I[0]:B(v,x,I,!0))+Math.PI/2)},e),m.add(y),g.setItemGraphicEl(i,y)}if(u){var d=U(i,s),M=h.get("clip");q(d,{shape:{endAngle:B(v,x,I,M)}},e),m.add(d),O(e.seriesIndex,g.dataType,i,d),L[i]=d}}).update(function(i,v){var y=g.get(P,i);if(z){var d=b.getItemGraphicEl(v),M=d?d.rotation:s,A=_(i,M);A.rotation=M,W(A,{rotation:-((isNaN(+y)?I[0]:B(y,x,I,!0))+Math.PI/2)},e),m.add(A),g.setItemGraphicEl(i,A)}if(u){var o=V[v],c=U(i,o?o.shape.endAngle:s),p=h.get("clip");W(c,{shape:{endAngle:B(y,x,I,p)}},e),m.add(c),O(e.seriesIndex,g.dataType,i,c),L[i]=c}}).execute(),g.each(function(i){var v=g.getItemModel(i),y=v.getModel("emphasis"),d=y.get("focus"),M=y.get("blurScope"),A=y.get("disabled");if(z){var o=g.getItemGraphicEl(i),c=g.getItemVisual(i,"style"),p=c.fill;if(o instanceof ge){var E=o.style;o.useStyle(he({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},c))}else o.useStyle(c),o.type!=="pointer"&&o.setColor(p);o.setStyle(v.getModel(["pointer","itemStyle"]).getItemStyle()),o.style.fill==="auto"&&o.setStyle("fill",l(B(g.get(P,i),x,[0,1],!0))),o.z2EmphasisLift=0,ee(o,v),te(o,d,M,A)}if(u){var D=L[i];D.useStyle(g.getItemVisual(i,"style")),D.setStyle(v.getModel(["progress","itemStyle"]).getItemStyle()),D.z2EmphasisLift=0,ee(D,v),te(D,d,M,A)}}),this._progressEls=L)},a.prototype._renderAnchor=function(e,r){var f=e.getModel("anchor");if(f.get("show")){var l=f.get("size"),t=f.get("icon"),s=f.get("offsetCenter"),n=f.get("keepAspect"),w=ie(t,r.cx-l/2+N(s[0],r.r),r.cy-l/2+N(s[1],r.r),l,l,null,n);w.z2=f.get("showAbove")?1:0,w.setStyle(f.getModel("itemStyle").getItemStyle()),this.group.add(w)}},a.prototype._renderTitleAndDetail=function(e,r,f,l,t){var s=this,n=e.getData(),w=n.mapDimension("value"),S=+e.get("min"),m=+e.get("max"),b=new re,V=[],L=[],z=e.isAnimationEnabled(),h=e.get(["pointer","showAbove"]);n.diff(this._data).add(function(u){V[u]=new Z({silent:!0}),L[u]=new Z({silent:!0})}).update(function(u,g){V[u]=s._titleEls[g],L[u]=s._detailEls[g]}).execute(),n.each(function(u){var g=n.getItemModel(u),P=n.get(w,u),T=new re,k=l(B(P,[S,m],[0,1],!0)),x=g.getModel("title");if(x.get("show")){var I=x.get("offsetCenter"),_=t.cx+N(I[0],t.r),U=t.cy+N(I[1],t.r);(c=V[u]).attr({z2:h?0:2,style:$(x,{x:_,y:U,text:n.getName(u),align:"center",verticalAlign:"middle"},{inheritColor:k})}),T.add(c)}var i=g.getModel("detail");if(i.get("show")){var v=i.get("offsetCenter"),y=t.cx+N(v[0],t.r),d=t.cy+N(v[1],t.r),M=N(i.get("width"),t.r),A=N(i.get("height"),t.r),o=e.get(["progress","show"])?n.getItemVisual(u,"style").fill:k,c=L[u],p=i.get("formatter");c.attr({z2:h?0:2,style:$(i,{x:y,y:d,text:F(P,p),width:isNaN(M)?null:M,height:isNaN(A)?null:A,align:"center",verticalAlign:"middle"},{inheritColor:o})}),de(c,{normal:i},P,function(E){return F(E,p)}),z&&ce(c,u,n,e,{getFormattedLabel:function(E,D,R,X,Q,G){return F(G?G.interpolatedValue:P,p)}}),T.add(c)}b.add(T)}),this.group.add(b),this._titleEls=V,this._detailEls=L},a.type="gauge",a}(pe),Se=function(C){function a(){var e=C!==null&&C.apply(this,arguments)||this;return e.type=a.type,e.visualStyleAccessPath="itemStyle",e}return K(a,C),a.prototype.getInitialData=function(e,r){return ve(this,["value"])},a.type="series.gauge",a.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},a}(ue);function Le(C){C.registerChartView(Me),C.registerSeriesModel(Se)}export{Le as install};
