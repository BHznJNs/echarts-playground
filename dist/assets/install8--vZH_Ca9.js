import{e as Ae,ab as Re,a8 as be,bP as ke,ce as je,N as Ve,aP as Ge,cj as Fe,E as Ze,D as Y,aN as Ue,bJ as Oe,x as _e,ap as Te,G as Xe,j as W,c4 as de,ck as B,cl as pe,cm as Ye,V as xe,cn as He,co as Z,cp as we,cq as qe,cr as w,cs as Ke,Z as Je,ct as le,b as We,cu as Qe,cv as $e,cw as et}from"./index-DqzYUymv.js";import{p as tt,h as at,f as Ce,T as ot}from"./roamHelper-BhWQyM7N.js";import{u as rt}from"./SymbolDraw-DijhuY6n.js";import{O as nt}from"./LineDraw-BQqWUqc7.js";import{f as it}from"./RoamController-BkuNyHXJ.js";import{e as st}from"./cursorHelper-IgNoiH07.js";import{l as ut}from"./createGraphFromNodeEdge-BOWn-bzs.js";import{t as lt}from"./LegendVisualProvider-B8AjwPa5.js";import"./Symbol-BKloJbl8.js";import"./interactionMutex-CZF7ZBng.js";import"./linkSeriesData-qLrvYExX.js";import"./labelHelper--rZLAm30.js";function gt(o){var a=o.findComponents({mainType:"legend"});a&&a.length&&o.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),t=e.getGraph().data,i=r.mapArray(r.getName);t.filterSelf(function(n){var s=t.getItemModel(n).getShallow("category");if(s!=null){Te(s)&&(s=i[s]);for(var l=0;l<a.length;l++)if(!a[l].isSelected(s))return!1}return!0})})}function ct(o){var a={};o.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),t=e.getData(),i={};r.each(function(n){var s=r.getName(n);i["ec-"+s]=n;var l=r.getItemModel(n),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,a)),r.setItemVisual(n,"style",u);for(var g=["symbol","symbolSize","symbolKeepAspect"],c=0;c<g.length;c++){var d=l.getShallow(g[c],!0);d!=null&&r.setItemVisual(n,g[c],d)}}),r.count()&&t.each(function(n){var s=t.getItemModel(n).getShallow("category");if(s!=null){Xe(s)&&(s=i["ec-"+s]);var l=r.getItemVisual(s,"style"),u=t.ensureUniqueItemVisual(n,"style");Y(u,l);for(var g=["symbol","symbolSize","symbolKeepAspect"],c=0;c<g.length;c++)t.setItemVisual(n,g[c],r.getItemVisual(s,g[c]))}})})}function J(o){return o instanceof Array||(o=[o,o]),o}function dt(o){o.eachSeriesByType("graph",function(a){var e=a.getGraph(),r=a.getEdgeData(),t=J(a.get("edgeSymbol")),i=J(a.get("edgeSymbolSize"));r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",i&&i[0]),r.setVisual("toSymbolSize",i&&i[1]),r.setVisual("style",a.getModel("lineStyle").getLineStyle()),r.each(function(n){var s=r.getItemModel(n),l=e.getEdgeByIndex(n),u=J(s.getShallow("symbol",!0)),g=J(s.getShallow("symbolSize",!0)),c=s.getModel("lineStyle").getLineStyle(),d=r.ensureUniqueItemVisual(n,"style");switch(Y(d,c),d.stroke){case"source":var f=l.node1.getVisual("style");d.stroke=f&&f.fill;break;case"target":f=l.node2.getVisual("style"),d.stroke=f&&f.fill}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),g[0]&&l.setVisual("fromSymbolSize",g[0]),g[1]&&l.setVisual("toSymbolSize",g[1])})})}var ge="-->",Q=function(o){return o.get("autoCurveness")||null},ze=function(o,a){var e=Q(o),r=20,t=[];if(Te(e))r=e;else if(W(e))return void(o.__curvenessList=e);a>r&&(r=a);var i=r%2?r+2:r+3;t=[];for(var n=0;n<i;n++)t.push((n%2?n+1:n)/10*(n%2?-1:1));o.__curvenessList=t},X=function(o,a,e){var r=[o.id,o.dataIndex].join("."),t=[a.id,a.dataIndex].join(".");return[e.uid,r,t].join(ge)},Pe=function(o){var a=o.split(ge);return[a[0],a[2],a[1]].join(ge)},pt=function(o,a){var e=X(o.node1,o.node2,a);return a.__edgeMap[e]},ft=function(o,a){return ce(X(o.node1,o.node2,a),a)+ce(X(o.node2,o.node1,a),a)},ce=function(o,a){var e=a.__edgeMap;return e[o]?e[o].length:0};function fe(o,a,e,r){var t=Q(a),i=W(t);if(!t)return null;var n=pt(o,a);if(!n)return null;for(var s=-1,l=0;l<n.length;l++)if(n[l]===e){s=l;break}var u=ft(o,a);ze(a,u),o.lineStyle=o.lineStyle||{};var g=X(o.node1,o.node2,a),c=a.__curvenessList,d=i||u%2?0:1;if(n.isForward)return c[d+s];var f=Pe(g),p=ce(f,a),y=c[s+p+d];return r?i?t&&t[0]===0?(p+d)%2?y:-y:((p%2?0:1)+d)%2?y:-y:(p+d)%2?y:-y:c[s+p+d]}function Be(o){var a=o.coordinateSystem;if(!a||a.type==="view"){var e=o.getGraph();e.eachNode(function(r){var t=r.getModel();r.setLayout([+t.get("x"),+t.get("y")])}),ye(e,o)}}function ye(o,a){o.eachEdge(function(e,r){var t=de(e.getModel().get(["lineStyle","curveness"]),-fe(e,a,r,!0),0),i=B(e.node1.getLayout()),n=B(e.node2.getLayout()),s=[i,n];+t&&s.push([(i[0]+n[0])/2-(i[1]-n[1])*t,(i[1]+n[1])/2-(n[0]-i[0])*t]),e.setLayout(s)})}function yt(o,a){o.eachSeriesByType("graph",function(e){var r=e.get("layout"),t=e.coordinateSystem;if(t&&t.type!=="view"){var i=e.getData(),n=[];Ve(t.dimensions,function(d){n=n.concat(i.mapDimensionsAll(d))});for(var s=0;s<i.count();s++){for(var l=[],u=!1,g=0;g<n.length;g++){var c=i.get(n[g],s);isNaN(c)||(u=!0),l.push(c)}u?i.setItemLayout(s,t.dataToPoint(l)):i.setItemLayout(s,[NaN,NaN])}ye(i.graph,e)}else r&&r!=="none"||Be(e)})}function U(o){var a=o.coordinateSystem;if(a.type!=="view")return 1;var e=o.option.nodeScaleRatio,r=a.scaleX;return((a.getZoom()-1)*e+1)/r}function O(o){var a=o.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),+a}var Me=Math.PI,oe=[];function he(o,a,e,r){var t=o.coordinateSystem;if(!t||t.type==="view"){var i=t.getBoundingRect(),n=o.getData(),s=n.graph,l=i.width/2+i.x,u=i.height/2+i.y,g=Math.min(i.width,i.height)/2,c=n.count();if(n.setLayout({cx:l,cy:u}),c){if(e){var d=t.pointToData(r),f=d[0],p=d[1],y=[f-l,p-u];pe(y,y),Ye(y,y,g),e.setLayout([l+y[0],u+y[1]],!0),Ee(e,o.get(["circular","rotateLabel"]),l,u)}ht[a](o,s,n,g,l,u,c),s.eachEdge(function(L,D){var A,v=de(L.getModel().get(["lineStyle","curveness"]),fe(L,o,D),0),S=B(L.node1.getLayout()),h=B(L.node2.getLayout()),m=(S[0]+h[0])/2,_=(S[1]+h[1])/2;+v&&(A=[l*(v*=3)+m*(1-v),u*v+_*(1-v)]),L.setLayout([S,h,A])})}}}var ht={value:function(o,a,e,r,t,i,n){var s=0,l=e.getSum("value"),u=2*Math.PI/(l||n);a.eachNode(function(g){var c=g.getValue("value"),d=u*(l?c:1)/2;s+=d,g.setLayout([r*Math.cos(s)+t,r*Math.sin(s)+i]),s+=d})},symbolSize:function(o,a,e,r,t,i,n){var s=0;oe.length=n;var l=U(o);a.eachNode(function(c){var d=O(c);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var f=Math.asin(d/2/r);isNaN(f)&&(f=Me/2),oe[c.dataIndex]=f,s+=2*f});var u=(2*Me-s)/n/2,g=0;a.eachNode(function(c){var d=u+oe[c.dataIndex];g+=d,(!c.getLayout()||!c.getLayout().fixed)&&c.setLayout([r*Math.cos(g)+t,r*Math.sin(g)+i]),g+=d})}};function Ee(o,a,e,r){var t=o.getGraphicEl();if(t){var i=o.getModel().get(["label","rotate"])||0,n=t.getSymbolPath();if(a){var s=o.getLayout(),l=Math.atan2(s[1]-r,s[0]-e);l<0&&(l=2*Math.PI+l);var u=s[0]<e;u&&(l-=Math.PI);var g=u?"left":"right";n.setTextConfig({rotation:-l,position:g,origin:"center"});var c=n.ensureState("emphasis");Y(c.textConfig||(c.textConfig={}),{position:g})}else n.setTextConfig({rotation:i*=Math.PI/180})}}function mt(o){o.eachSeriesByType("graph",function(a){a.get("layout")==="circular"&&he(a,"symbolSize")})}var k=le;function vt(o){o.eachSeriesByType("graph",function(a){var e=a.coordinateSystem;if(!e||e.type==="view")if(a.get("layout")==="force"){var r=a.preservedPoints||{},t=a.getGraph(),i=t.data,n=t.edgeData,s=a.getModel("force"),l=s.get("initLayout");a.preservedPoints?i.each(function(v){var S=i.getId(v);i.setItemLayout(v,r[S]||[NaN,NaN])}):l&&l!=="none"?l==="circular"&&he(a,"value"):Be(a);var u=i.getDataExtent("value"),g=n.getDataExtent("value"),c=s.get("repulsion"),d=s.get("edgeLength"),f=W(c)?c:[c,c],p=W(d)?d:[d,d];p=[p[1],p[0]];var y=i.mapArray("value",function(v,S){var h=i.getItemLayout(S),m=xe(v,u,f);return isNaN(m)&&(m=(f[0]+f[1])/2),{w:m,rep:m,fixed:i.getItemModel(S).get("fixed"),p:!h||isNaN(h[0])||isNaN(h[1])?null:h}}),L=n.mapArray("value",function(v,S){var h=t.getEdgeByIndex(S),m=xe(v,g,p);isNaN(m)&&(m=(p[0]+p[1])/2);var _=h.getModel(),x=de(h.getModel().get(["lineStyle","curveness"]),-fe(h,a,S,!0),0);return{n1:y[h.node1.dataIndex],n2:y[h.node2.dataIndex],d:m,curveness:x,ignoreForceLayout:_.get("ignoreForceLayout")}}),D=e.getBoundingRect(),A=function(v,S,h){for(var m=v,_=S,x=h.rect,G=x.width,P=x.height,z=[x.x+G/2,x.y+P/2],I=h.gravity==null?.1:h.gravity,$=0;$<m.length;$++){var F=m[$];F.p||(F.p=He(G*(Math.random()-.5)+z[0],P*(Math.random()-.5)+z[1])),F.pp=B(F.p),F.edges=null}var ee,te,me=h.friction==null?.6:h.friction,E=me;return{warmUp:function(){E=.8*me},setFixed:function(C){m[C].fixed=!0},setUnfixed:function(C){m[C].fixed=!1},beforeStep:function(C){ee=C},afterStep:function(C){te=C},step:function(C){ee&&ee(m,_);for(var M=[],H=m.length,b=0;b<_.length;b++){var q=_[b];if(!q.ignoreForceLayout){var V=q.n1,N=q.n2;Z(M,N.p,V.p);var R=we(M)-q.d,K=N.w/(V.w+N.w);isNaN(K)&&(K=0),pe(M,M),!V.fixed&&k(V.p,V.p,M,K*R*E),!N.fixed&&k(N.p,N.p,M,-(1-K)*R*E)}}for(b=0;b<H;b++)(T=m[b]).fixed||(Z(M,z,T.p),k(T.p,T.p,M,I*E));for(b=0;b<H;b++){V=m[b];for(var ae=b+1;ae<H;ae++){N=m[ae],Z(M,N.p,V.p),(R=we(M))===0&&(qe(M,Math.random()-.5,Math.random()-.5),R=1);var ve=(V.rep+N.rep)/R/R;!V.fixed&&k(V.pp,V.pp,M,ve),!N.fixed&&k(N.pp,N.pp,M,-ve)}}var Se=[];for(b=0;b<H;b++){var T;(T=m[b]).fixed||(Z(Se,T.p,T.pp),k(T.p,T.p,Se,E),w(T.pp,T.p))}var Le=(E*=.992)<.01;te&&te(m,_,Le),C&&C(Le)}}}(y,L,{rect:D,gravity:s.get("gravity"),friction:s.get("friction")});A.beforeStep(function(v,S){for(var h=0,m=v.length;h<m;h++)v[h].fixed&&w(v[h].p,t.getNodeByIndex(h).getLayout())}),A.afterStep(function(v,S,h){for(var m=0,_=v.length;m<_;m++)v[m].fixed||t.getNodeByIndex(m).setLayout(v[m].p),r[i.getId(m)]=v[m].p;for(m=0,_=S.length;m<_;m++){var x=S[m],G=t.getEdgeByIndex(m),P=x.n1.p,z=x.n2.p,I=G.getLayout();(I=I?I.slice():[])[0]=I[0]||[],I[1]=I[1]||[],w(I[0],P),w(I[1],z),+x.curveness&&(I[2]=[(P[0]+z[0])/2-(P[1]-z[1])*x.curveness,(P[1]+z[1])/2-(z[0]-P[0])*x.curveness]),G.setLayout(I)}}),a.forceLayout=A,a.preservedPoints=r,A.step()}else a.forceLayout=null})}function St(o,a){var e=[];return o.eachSeriesByType("graph",function(r){var t=r.get("coordinateSystem");if(!t||t==="view"){var i=r.getData(),n=i.mapArray(function(L){var D=i.getItemModel(L);return[+D.get("x"),+D.get("y")]}),s=[],l=[];Ke(n,s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),g=function(L,D,A){var v=Y(L.getBoxLayoutParams(),{aspect:A});return Je(v,{width:D.getWidth(),height:D.getHeight()})}(r,a,u);isNaN(u)&&(s=[g.x,g.y],l=[g.x+g.width,g.y+g.height]);var c=l[0]-s[0],d=l[1]-s[1],f=g.width,p=g.height,y=r.coordinateSystem=new Ce;y.zoomLimit=r.get("scaleLimit"),y.setBoundingRect(s[0],s[1],c,d),y.setViewRect(g.x,g.y,f,p),y.setCenter(r.get("center"),a),y.setZoom(r.get("zoom")),e.push(y)}}),e}var re=[],ne=[],ie=[],j=$e,se=et,Ie=Math.abs;function Ne(o,a,e){for(var r,t=o[0],i=o[1],n=o[2],s=1/0,l=e*e,u=.1,g=.1;g<=.9;g+=.1)re[0]=j(t[0],i[0],n[0],g),re[1]=j(t[1],i[1],n[1],g),(f=Ie(se(re,a)-l))<s&&(s=f,r=g);for(var c=0;c<32;c++){var d=r+u;ne[0]=j(t[0],i[0],n[0],r),ne[1]=j(t[1],i[1],n[1],r),ie[0]=j(t[0],i[0],n[0],d),ie[1]=j(t[1],i[1],n[1],d);var f=se(ne,a)-l;if(Ie(f)<.01)break;var p=se(ie,a)-l;u/=2,f<0?p>=0?r+=u:r-=u:p>=0?r-=u:r+=u}return r}function ue(o,a){var e=[],r=Qe,t=[[],[],[]],i=[[],[]],n=[];a/=2,o.eachEdge(function(s,l){var u=s.getLayout(),g=s.getVisual("fromSymbol"),c=s.getVisual("toSymbol");u.__original||(u.__original=[B(u[0]),B(u[1])],u[2]&&u.__original.push(B(u[2])));var d=u.__original;if(u[2]!=null){if(w(t[0],d[0]),w(t[1],d[2]),w(t[2],d[1]),g&&g!=="none"){var f=O(s.node1),p=Ne(t,d[0],f*a);r(t[0][0],t[1][0],t[2][0],p,e),t[0][0]=e[3],t[1][0]=e[4],r(t[0][1],t[1][1],t[2][1],p,e),t[0][1]=e[3],t[1][1]=e[4]}c&&c!=="none"&&(f=O(s.node2),p=Ne(t,d[1],f*a),r(t[0][0],t[1][0],t[2][0],p,e),t[1][0]=e[1],t[2][0]=e[2],r(t[0][1],t[1][1],t[2][1],p,e),t[1][1]=e[1],t[2][1]=e[2]),w(u[0],t[0]),w(u[1],t[2]),w(u[2],t[1])}else w(i[0],d[0]),w(i[1],d[1]),Z(n,i[1],i[0]),pe(n,n),g&&g!=="none"&&(f=O(s.node1),le(i[0],i[0],n,f*a)),c&&c!=="none"&&(f=O(s.node2),le(i[1],i[1],n,-f*a)),w(u[0],i[0]),w(u[1],i[1])})}function De(o){return o.type==="view"}var Lt=function(o){function a(){var e=o!==null&&o.apply(this,arguments)||this;return e.type=a.type,e}return Ae(a,o),a.prototype.init=function(e,r){var t=new rt,i=new nt,n=this.group;this._controller=new it(r.getZr()),this._controllerHost={target:n},n.add(t.group),n.add(i.group),this._symbolDraw=t,this._lineDraw=i,this._firstRender=!0},a.prototype.render=function(e,r,t){var i=this,n=e.coordinateSystem;this._model=e;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(De(n)){var g={x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY};this._firstRender?u.attr(g):Re(u,g,e)}ue(e.getGraph(),U(e));var c=e.getData();s.updateData(c);var d=e.getEdgeData();l.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,r,t),clearTimeout(this._layoutTimeout);var f=e.forceLayout,p=e.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,p);var y=e.get("layout");c.graph.eachNode(function(v){var S=v.dataIndex,h=v.getGraphicEl(),m=v.getModel();if(h){h.off("drag").off("dragend");var _=m.get("draggable");_&&h.on("drag",function(x){switch(y){case"force":f.warmUp(),!i._layouting&&i._startForceLayoutIteration(f,p),f.setFixed(S),c.setItemLayout(S,[h.x,h.y]);break;case"circular":c.setItemLayout(S,[h.x,h.y]),v.setLayout({fixed:!0},!0),he(e,"symbolSize",v,[x.offsetX,x.offsetY]),i.updateLayout(e);break;default:c.setItemLayout(S,[h.x,h.y]),ye(e.getGraph(),e),i.updateLayout(e)}}).on("dragend",function(){f&&f.setUnfixed(S)}),h.setDraggable(_,!!m.get("cursor")),m.get(["emphasis","focus"])==="adjacency"&&(be(h).focus=v.getAdjacentDataIndices())}}),c.graph.eachEdge(function(v){var S=v.getGraphicEl(),h=v.getModel().get(["emphasis","focus"]);S&&h==="adjacency"&&(be(S).focus={edge:[v.dataIndex],node:[v.node1.dataIndex,v.node2.dataIndex]})});var L=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),D=c.getLayout("cx"),A=c.getLayout("cy");c.graph.eachNode(function(v){Ee(v,L,D,A)}),this._firstRender=!1},a.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},a.prototype._startForceLayoutIteration=function(e,r){var t=this;(function i(){e.step(function(n){t.updateLayout(t._model),(t._layouting=!n)&&(r?t._layoutTimeout=setTimeout(i,16):i())})})()},a.prototype._updateController=function(e,r,t){var i=this,n=this._controller,s=this._controllerHost,l=this.group;n.setPointerChecker(function(u,g,c){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(g,c)&&!st(u,t,e)}),De(e.coordinateSystem)?(n.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",function(u){tt(s,u.dx,u.dy),t.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){at(s,u.scale,u.originX,u.originY),t.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(),ue(e.getGraph(),U(e)),i._lineDraw.updateLayout(),t.updateLabelLayout()})):n.disable()},a.prototype._updateNodeAndLinkScale=function(){var e=this._model,r=e.getData(),t=U(e);r.eachItemGraphicEl(function(i,n){i&&i.setSymbolScale(t)})},a.prototype.updateLayout=function(e){ue(e.getGraph(),U(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},a.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},a.type="graph",a}(ke),bt=Lt,_t=function(o){function a(){var e=o!==null&&o.apply(this,arguments)||this;return e.type=a.type,e.hasSymbolVisual=!0,e}return Ae(a,o),a.prototype.init=function(e){o.prototype.init.apply(this,arguments);var r=this;function t(){return r._categoriesData}this.legendVisualProvider=new lt(t,t),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},a.prototype.mergeOption=function(e){o.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},a.prototype.mergeDefaultAndTheme=function(e){o.prototype.mergeDefaultAndTheme.apply(this,arguments),je(e,"edgeLabel",["show"])},a.prototype.getInitialData=function(e,r){var t,i=e.edges||e.links||[],n=e.data||e.nodes||[],s=this;if(n&&i){Q(t=this)&&(t.__curvenessList=[],t.__edgeMap={},ze(t));var l=ut(n,i,this,!0,function(u,g){u.wrapMethod("getItemModel",function(p){var y=s._categoriesModels[p.getShallow("category")];return y&&(y.parentModel=p.parentModel,p.parentModel=y),p});var c=We.prototype.getModel;function d(p,y){var L=c.call(this,p,y);return L.resolveParentPath=f,L}function f(p){if(p&&(p[0]==="label"||p[1]==="label")){var y=p.slice();return p[0]==="label"?y[0]="edgeLabel":p[1]==="label"&&(y[1]="edgeLabel"),y}return p}g.wrapMethod("getItemModel",function(p){return p.resolveParentPath=f,p.getModel=d,p})});return Ve(l.edges,function(u){(function(g,c,d,f){if(Q(d)){var p=X(g,c,d),y=d.__edgeMap,L=y[Pe(p)];y[p]&&!L?y[p].isForward=!0:L&&y[p]&&(L.isForward=!0,y[p].isForward=!1),y[p]=y[p]||[],y[p].push(f)}})(u.node1,u.node2,this,u.dataIndex)},this),l.data}},a.prototype.getGraph=function(){return this.getData().graph},a.prototype.getEdgeData=function(){return this.getGraph().edgeData},a.prototype.getCategoriesData=function(){return this._categoriesData},a.prototype.formatTooltip=function(e,r,t){if(t==="edge"){var i=this.getData(),n=this.getDataParams(e,t),s=i.graph.getEdgeByIndex(e),l=i.getName(s.node1.dataIndex),u=i.getName(s.node2.dataIndex),g=[];return l!=null&&g.push(l),u!=null&&g.push(u),Ge("nameValue",{name:g.join(" > "),value:n.value,noValue:n.value==null})}return Fe({series:this,dataIndex:e,multipleSeries:r})},a.prototype._updateCategoriesData=function(){var e=Ze(this.option.categories||[],function(t){return t.value!=null?t:Y({value:0},t)}),r=new Ue(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(t){return r.getItemModel(t)})},a.prototype.setZoom=function(e){this.option.zoom=e},a.prototype.setCenter=function(e){this.option.center=e},a.prototype.isAnimationEnabled=function(){return o.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},a.type="series.graph",a.dependencies=["grid","polar","geo","singleAxis","calendar"],a.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},a}(Oe),xt={type:"graphRoam",event:"graphRoam",update:"none"};function Et(o){o.registerChartView(bt),o.registerSeriesModel(_t),o.registerProcessor(gt),o.registerVisual(ct),o.registerVisual(dt),o.registerLayout(yt),o.registerLayout(o.PRIORITY.VISUAL.POST_CHART_LAYOUT,mt),o.registerLayout(vt),o.registerCoordinateSystem("graphView",{dimensions:Ce.dimensions,create:St}),o.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},_e),o.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},_e),o.registerAction(xt,function(a,e,r){e.eachComponent({mainType:"series",query:a},function(t){var i=t.coordinateSystem,n=ot(i,a,void 0,r);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)})})}export{Et as install};
