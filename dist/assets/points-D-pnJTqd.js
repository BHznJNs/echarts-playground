import{b_ as L,E as P,aG as D,b$ as S}from"./index-CfHuJ7al.js";function h(y,I){return{seriesType:y,plan:L(),reset:function(s){var t=s.getData(),o=s.coordinateSystem,T=s.pipelineContext,r=I||T.large;if(o){var e=P(o.dimensions,function(n){return t.mapDimension(n)}).slice(0,2),l=e.length,m=t.getCalculationInfo("stackResultDimension");D(t,e[0])&&(e[0]=m),D(t,e[1])&&(e[1]=m);var g=t.getStore(),d=t.getDimensionIndex(e[0]),b=t.getDimensionIndex(e[1]);return l&&{progress:function(n,v){for(var u=n.end-n.start,c=r&&S(u*l),p=[],f=[],i=n.start,x=0;i<n.end;i++){var a=void 0;if(l===1){var C=g.get(d,i);a=o.dataToPoint(C,null,f)}else p[0]=g.get(d,i),p[1]=g.get(b,i),a=o.dataToPoint(p,null,f);r?(c[x++]=a[0],c[x++]=a[1]):v.setItemLayout(i,a.slice())}r&&v.setLayout("points",c)}}}}}}export{h as i};
