import{e as G,dk as E,bV as q,dl as D,dm as _}from"./index-B7CpzWKR.js";var x=Math.min,H=Math.max;function K(h,o){return isNaN(h)||isNaN(o)}function F(h,o,s,i,a,r,t,l,d){for(var c,u,k,g,v,p,f=s,M=0;M<i;M++){var e=o[2*f],n=o[2*f+1];if(f>=a||f<0)break;if(K(e,n)){if(d){f+=r;continue}break}if(f===s)h[r>0?"moveTo":"lineTo"](e,n),k=e,g=n;else{var Q=e-c,J=n-u;if(Q*Q+J*J<.5){f+=r;continue}if(t>0){for(var b=f+r,y=o[2*b],S=o[2*b+1];y===e&&S===n&&M<i;)M++,f+=r,y=o[2*(b+=r)],S=o[2*b+1],Q=(e=o[2*f])-c,J=(n=o[2*f+1])-u;var X=M+1;if(d)for(;K(y,S)&&X<i;)X++,y=o[2*(b+=r)],S=o[2*b+1];var W=.5,R=0,U=0,I=void 0,T=void 0;if(X>=i||K(y,S))v=e,p=n;else{R=y-c,U=S-u;var Y=e-c,Z=y-e,$=n-u,z=S-n,V=void 0,m=void 0;if(l==="x"){var L=R>0?1:-1;v=e-L*(V=Math.abs(Y))*t,p=n,I=e+L*(m=Math.abs(Z))*t,T=n}else if(l==="y"){var w=U>0?1:-1;v=e,p=n-w*(V=Math.abs($))*t,I=e,T=n+w*(m=Math.abs(z))*t}else V=Math.sqrt(Y*Y+$*$),v=e-R*t*(1-(W=(m=Math.sqrt(Z*Z+z*z))/(m+V))),p=n-U*t*(1-W),T=n+U*t*W,I=x(I=e+R*t*W,H(y,e)),T=x(T,H(S,n)),I=H(I,x(y,e)),p=n-(U=(T=H(T,x(S,n)))-n)*V/m,v=x(v=e-(R=I-e)*V/m,H(c,e)),p=x(p,H(u,n)),I=e+(R=e-(v=H(v,x(c,e))))*m/V,T=n+(U=n-(p=H(p,x(u,n))))*m/V}h.bezierCurveTo(k,g,v,p,e,n),k=I,g=T}else h.lineTo(e,n)}c=e,u=n,f+=r}return M}var C=function(){this.smooth=0,this.smoothConstraint=!0},B=function(h){function o(s){var i=h.call(this,s)||this;return i.type="ec-polyline",i}return G(o,h),o.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},o.prototype.getDefaultShape=function(){return new C},o.prototype.buildPath=function(s,i){var a=i.points,r=0,t=a.length/2;if(i.connectNulls){for(;t>0&&K(a[2*t-2],a[2*t-1]);t--);for(;r<t&&K(a[2*r],a[2*r+1]);r++);}for(;r<t;)r+=F(s,a,r,t,t,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},o.prototype.getPointOn=function(s,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a,r,t=this.path.data,l=D.CMD,d=i==="x",c=[],u=0;u<t.length;){var k=void 0,g=void 0,v=void 0,p=void 0,f=void 0,M=void 0,e=void 0;switch(t[u++]){case l.M:a=t[u++],r=t[u++];break;case l.L:if(k=t[u++],g=t[u++],(e=d?(s-a)/(k-a):(s-r)/(g-r))<=1&&e>=0){var n=d?(g-r)*e+r:(k-a)*e+a;return d?[s,n]:[n,s]}a=k,r=g;break;case l.C:k=t[u++],g=t[u++],v=t[u++],p=t[u++],f=t[u++],M=t[u++];var Q=d?E(a,k,v,f,s,c):E(r,g,p,M,s,c);if(Q>0)for(var J=0;J<Q;J++){var b=c[J];if(b<=1&&b>=0)return n=d?_(r,g,p,M,b):_(a,k,v,f,b),d?[s,n]:[n,s]}a=f,r=M}}},o}(q),O=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return G(o,h),o}(C),j=function(h){function o(s){var i=h.call(this,s)||this;return i.type="ec-polygon",i}return G(o,h),o.prototype.getDefaultShape=function(){return new O},o.prototype.buildPath=function(s,i){var a=i.points,r=i.stackedOnPoints,t=0,l=a.length/2,d=i.smoothMonotone;if(i.connectNulls){for(;l>0&&K(a[2*l-2],a[2*l-1]);l--);for(;t<l&&K(a[2*t],a[2*t+1]);t++);}for(;t<l;){var c=F(s,a,t,l,l,1,i.smooth,d,i.connectNulls);F(s,r,t+c-1,c,l,-1,i.stackedOnSmooth,d,i.connectNulls),t+=c+1,s.closePath()}},o}(q);export{j as c,B as u};
