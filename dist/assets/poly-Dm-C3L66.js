import{e as G,dj as E,bU as q,dk as D,dl as _}from"./index-B3HKDY-B.js";var H=Math.min,J=Math.max;function Q(h,o){return isNaN(h)||isNaN(o)}function F(h,o,s,i,a,r,t,l,d){for(var c,u,k,g,v,p,f=s,M=0;M<i;M++){var e=o[2*f],n=o[2*f+1];if(f>=a||f<0)break;if(Q(e,n)){if(d){f+=r;continue}break}if(f===s)h[r>0?"moveTo":"lineTo"](e,n),k=e,g=n;else{var R=e-c,K=n-u;if(R*R+K*K<.5){f+=r;continue}if(t>0){for(var b=f+r,y=o[2*b],S=o[2*b+1];y===e&&S===n&&M<i;)M++,f+=r,y=o[2*(b+=r)],S=o[2*b+1],R=(e=o[2*f])-c,K=(n=o[2*f+1])-u;var Y=M+1;if(d)for(;Q(y,S)&&Y<i;)Y++,y=o[2*(b+=r)],S=o[2*b+1];var X=.5,V=0,W=0,I=void 0,T=void 0;if(Y>=i||Q(y,S))v=e,p=n;else{V=y-c,W=S-u;var Z=e-c,$=y-e,m=n-u,z=S-n,U=void 0,x=void 0;if(l==="x"){var L=V>0?1:-1;v=e-L*(U=Math.abs(Z))*t,p=n,I=e+L*(x=Math.abs($))*t,T=n}else if(l==="y"){var w=W>0?1:-1;v=e,p=n-w*(U=Math.abs(m))*t,I=e,T=n+w*(x=Math.abs(z))*t}else U=Math.sqrt(Z*Z+m*m),v=e-V*t*(1-(X=(x=Math.sqrt($*$+z*z))/(x+U))),p=n-W*t*(1-X),T=n+W*t*X,I=H(I=e+V*t*X,J(y,e)),T=H(T,J(S,n)),I=J(I,H(y,e)),p=n-(W=(T=J(T,H(S,n)))-n)*U/x,v=H(v=e-(V=I-e)*U/x,J(c,e)),p=H(p,J(u,n)),I=e+(V=e-(v=J(v,H(c,e))))*x/U,T=n+(W=n-(p=J(p,H(u,n))))*x/U}h.bezierCurveTo(k,g,v,p,e,n),k=I,g=T}else h.lineTo(e,n)}c=e,u=n,f+=r}return M}var C=function(){this.smooth=0,this.smoothConstraint=!0},A=function(h){function o(s){var i=h.call(this,s)||this;return i.type="ec-polyline",i}return G(o,h),o.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},o.prototype.getDefaultShape=function(){return new C},o.prototype.buildPath=function(s,i){var a=i.points,r=0,t=a.length/2;if(i.connectNulls){for(;t>0&&Q(a[2*t-2],a[2*t-1]);t--);for(;r<t&&Q(a[2*r],a[2*r+1]);r++);}for(;r<t;)r+=F(s,a,r,t,t,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},o.prototype.getPointOn=function(s,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a,r,t=this.path.data,l=D.CMD,d=i==="x",c=[],u=0;u<t.length;){var k=void 0,g=void 0,v=void 0,p=void 0,f=void 0,M=void 0,e=void 0;switch(t[u++]){case l.M:a=t[u++],r=t[u++];break;case l.L:if(k=t[u++],g=t[u++],(e=d?(s-a)/(k-a):(s-r)/(g-r))<=1&&e>=0){var n=d?(g-r)*e+r:(k-a)*e+a;return d?[s,n]:[n,s]}a=k,r=g;break;case l.C:k=t[u++],g=t[u++],v=t[u++],p=t[u++],f=t[u++],M=t[u++];var R=d?E(a,k,v,f,s,c):E(r,g,p,M,s,c);if(R>0)for(var K=0;K<R;K++){var b=c[K];if(b<=1&&b>=0)return n=d?_(r,g,p,M,b):_(a,k,v,f,b),d?[s,n]:[n,s]}a=f,r=M}}},o}(q),O=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return G(o,h),o}(C),B=function(h){function o(s){var i=h.call(this,s)||this;return i.type="ec-polygon",i}return G(o,h),o.prototype.getDefaultShape=function(){return new O},o.prototype.buildPath=function(s,i){var a=i.points,r=i.stackedOnPoints,t=0,l=a.length/2,d=i.smoothMonotone;if(i.connectNulls){for(;l>0&&Q(a[2*l-2],a[2*l-1]);l--);for(;t<l&&Q(a[2*t],a[2*t+1]);t++);}for(;t<l;){var c=F(s,a,t,l,l,1,i.smooth,d,i.connectNulls);F(s,r,t+c-1,c,l,-1,i.stackedOnSmooth,d,i.connectNulls),t+=c+1,s.closePath()}},o}(q);export{B as c,A as u};
