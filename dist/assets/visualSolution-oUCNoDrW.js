import{T as x,N as _,bG as I,bH as P}from"./index-B7p1rSoh.js";import{D as w}from"./VisualMapping-CR3SKxGR.js";var T=_;function V(e){if(e){for(var r in e)if(e.hasOwnProperty(r))return!0}}function A(e,r,i){var p={};return T(r,function(n){var u,t=p[n]=((u=function(){}).prototype.__hidden=u.prototype,new u);T(e[n],function(l,a){if(w.isValidType(a)){var f={type:a,visual:l};i&&i(f,n),t[a]=new w(f),a==="opacity"&&((f=x(f)).type="colorAlpha",t.__hidden.__alphaForOpacity=new w(f))}})}),p}function F(e,r,i){var p;_(i,function(n){r.hasOwnProperty(n)&&V(r[n])&&(p=!0)}),p&&_(i,function(n){r.hasOwnProperty(n)&&V(r[n])?e[n]=x(r[n]):delete e[n]})}function G(e,r,i,p,n,u){var t,l={};function a(o){return I(i,t,o)}function f(o,c){P(i,t,o,c)}function d(o,c){t=o;var s=i.getRawDataItem(t);if(!s||s.visualMap!==!1)for(var y=p.call(n,o),h=r[y],m=l[y],v=0,D=m.length;v<D;v++){var g=m[v];h[g]&&h[g].applyVisual(o,a,f)}}_(e,function(o){var c=w.prepareVisualTypes(r[o]);l[o]=c}),i.each(d)}function H(e,r,i,p){var n={};return _(e,function(u){var t=w.prepareVisualTypes(r[u]);n[u]=t}),{progress:function(u,t){var l,a;function f(O){return I(t,a,O)}function d(O,b){P(t,a,O,b)}p!=null&&(l=t.getDimensionIndex(p));for(var o=t.getStore();(a=u.next())!=null;){var c=t.getRawDataItem(a);if(!c||c.visualMap!==!1)for(var s=p!=null?o.get(l,a):a,y=i(s),h=r[y],m=n[y],v=0,D=m.length;v<D;v++){var g=m[v];h[g]&&h[g].applyVisual(s,f,d)}}}}}export{G as f,H as l,F as p,A as u};
