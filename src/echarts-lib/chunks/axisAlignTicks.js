import{c_ as e,c$ as t,d0 as a,aq as l}from"./index.js";var i=Math.log;function s(s,n,c){var r=e.prototype,v=r.getTicks.call(c),x=r.getTicks.call(c,!0),f=v.length-1,g=r.getInterval.call(c),o=t(s,n),p=o.extent,u=o.fixMin,M=o.fixMax;if("log"===s.type){var E=i(s.base);p=[i(p[0])/E,i(p[1])/E]}s.setExtent(p[0],p[1]),s.calcNiceExtent({splitNumber:f,fixMin:u,fixMax:M});var h=r.getExtent.call(s);u&&(p[0]=h[0]),M&&(p[1]=h[1]);var F=r.getInterval.call(s),k=p[0],m=p[1];if(u&&M)F=(m-k)/f;else if(u)for(m=p[0]+F*f;m<p[1]&&isFinite(m)&&isFinite(p[1]);)F=a(F),m=p[0]+F*f;else if(M)for(k=p[1]-F*f;k>p[0]&&isFinite(k)&&isFinite(p[0]);)F=a(F),k=p[1]-F*f;else{s.getTicks().length-1>f&&(F=a(F));var I=F*f;m=Math.ceil(p[1]/F)*F,(k=l(m-I))<0&&p[0]>=0?(k=0,m=l(I)):m>0&&p[1]<=0&&(m=0,k=-l(I))}var N=(v[0].value-x[0].value)/g,T=(v[f].value-x[f].value)/g;r.setExtent.call(s,k+F*N,m+F*T),r.setInterval.call(s,F),(N||T)&&r.setNiceExtent.call(s,k+F,m-F)}export{s as a};
